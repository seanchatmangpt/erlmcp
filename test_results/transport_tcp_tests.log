[0;32m===> Verifying dependencies...
[0m[0;32m===> Upgrading fs v0.9.2
[0m[0;32m===> Analyzing applications...
[0m[0;32m===> Compiling fs
[0m[0;32m===> Compiling cowboy
[0m[0;32m===> Compiling coveralls
[0m[0;32m===> Compiling proper
[0m[0;32m===> Compiling meck
[0m[0;32m===> Analyzing applications...
[0m[0;32m===> Compiling erlmcp_core
[0m[0;32m===> Compiling erlmcp_observability
[0m[0;32m===> Compiling erlmcp_transports
[0m[0;32m===> Analyzing applications...
[0m[0;32m===> Compiling extra_test
[0m[0;32m===> Performing EUnit tests...
[0m======================== EUnit ========================
module 'erlmcp_transport_tcp_tests'
  erlmcp_transport_tcp_tests: -client_start_test_/0-fun-8- (Start client with valid options)...[0.055 s] ok
  erlmcp_transport_tcp_tests: -client_start_test_/0-fun-5- (Client init creates proper state)...=ERROR REPORT==== 29-Jan-2026::18:58:07.252170 ===
TCP connection failed: econnrefused
*failed*
in function erlmcp_transport_tcp_tests:'-client_start_test_/0-fun-5-'/0 (/Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_tcp_tests.erl, line 110)
in call from eunit_test:run_testfun/1 (eunit_test.erl, line 72)
in call from eunit_proc:run_test/1 (eunit_proc.erl, line 544)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 369)
in call from eunit_proc:handle_test/2 (eunit_proc.erl, line 527)
in call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 469)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 359)
in call from eunit_proc:run_group/2 (eunit_proc.erl, line 583)
**error:{badrecord,{state,client,undefined,undefined,undefined,undefined,<0.2258.0>,
                  "127.0.0.1",8888,
                  [{recbuf,32768},
                   {sndbuf,32768},
                   {buffer,32768},
                   {nodelay,true},
                   {keepalive,true},
                   binary,{...}|...],
                  <<>>,false,#Ref<0.2539717138.3814719489.122958>,1,infinity,
                  undefined,undefined,...}}
  output:<<"">>

  erlmcp_transport_tcp_tests: -client_connection_failure_test_/0-fun-3-...=ERROR REPORT==== 29-Jan-2026::18:58:07.255349 ===
TCP connection failed: econnrefused
*failed*
in function erlmcp_transport_tcp_tests:'-client_connection_failure_test_/0-fun-3-'/0 (/Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_tcp_tests.erl, line 133)
in call from eunit_test:run_testfun/1 (eunit_test.erl, line 72)
in call from eunit_proc:run_test/1 (eunit_proc.erl, line 544)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 369)
in call from eunit_proc:handle_test/2 (eunit_proc.erl, line 527)
in call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 469)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 359)
in call from eunit_proc:run_group/2 (eunit_proc.erl, line 583)
**error:{badrecord,{state,client,test_client_transport,test_server,undefined,
                  undefined,<0.2252.0>,"localhost",9999,
                  [{recbuf,65536},
                   {sndbuf,65536},
                   binary,
                   {active,true},
                   {packet,line},
                   {reuseaddr,...},
                   {...}|...],
                  <<>>,false,#Ref<0.2539717138.3814719489.122987>,1,3,
                  undefined,undefined,...}}
  output:<<"">>

  erlmcp_transport_tcp_tests: -client_send_not_connected_test_/0-fun-1- (Send fails when not connected)...=ERROR REPORT==== 29-Jan-2026::18:58:07.459717 ===
TCP connection failed: econnrefused
[0.101 s] ok
  erlmcp_transport_tcp_tests: -server_start_test_/0-fun-12- (Start server with valid options)...=WARNING REPORT==== 29-Jan-2026::18:58:07.628513 ===
Transport option binary unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::18:58:07.628571 ===
Transport option {active,false} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::18:58:07.628612 ===
Transport option {packet,line} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::18:58:07.628652 ===
Transport option {reuseaddr,true} unknown or invalid.

*failed*
in function erlmcp_transport_tcp_tests:'-server_start_test_/0-fun-12-'/0 (/Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_tcp_tests.erl, line 176)
in call from eunit_test:run_testfun/1 (eunit_test.erl, line 72)
in call from eunit_proc:run_test/1 (eunit_proc.erl, line 544)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 369)
in call from eunit_proc:handle_test/2 (eunit_proc.erl, line 527)
in call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 469)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 359)
in call from eunit_proc:run_group/2 (eunit_proc.erl, line 583)
**error:{badrecord,{state,server,test_server_transport,test_server,undefined,
                  test_server_transport_test_server_ranch,<0.2270.0>,
                  undefined,49369,undefined,<<>>,true,undefined,0,infinity,
                  undefined,undefined,...}}
  output:<<"">>

  erlmcp_transport_tcp_tests: -server_start_test_/0-fun-6- (Server state initialization)...=WARNING REPORT==== 29-Jan-2026::18:58:07.634129 ===
Transport option binary unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::18:58:07.634178 ===
Transport option {active,false} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::18:58:07.634203 ===
Transport option {packet,line} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::18:58:07.634230 ===
Transport option {reuseaddr,true} unknown or invalid.

*failed*
in function erlmcp_transport_tcp_tests:'-server_start_test_/0-fun-6-'/0 (/Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_tcp_tests.erl, line 202)
in call from eunit_test:run_testfun/1 (eunit_test.erl, line 72)
in call from eunit_proc:run_test/1 (eunit_proc.erl, line 544)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 369)
in call from eunit_proc:handle_test/2 (eunit_proc.erl, line 527)
in call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 469)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 359)
in call from eunit_proc:run_group/2 (eunit_proc.erl, line 583)
**error:{badrecord,{state,server,my_transport,my_server,undefined,
                  my_transport_my_server_ranch,<0.2270.0>,undefined,49370,
                  undefined,<<>>,true,undefined,0,infinity,undefined,
                  undefined,...}}
  output:<<"">>

  erlmcp_transport_tcp_tests: -server_ranch_integration_test_/0-fun-2-...=WARNING REPORT==== 29-Jan-2026::18:58:07.636919 ===
Transport option binary unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::18:58:07.636966 ===
Transport option {active,false} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::18:58:07.636999 ===
Transport option {packet,line} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::18:58:07.637015 ===
Transport option {reuseaddr,true} unknown or invalid.

*failed*
in function erlmcp_transport_tcp_tests:'-server_ranch_integration_test_/0-fun-2-'/0 (/Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_tcp_tests.erl, line 229)
in call from eunit_test:run_testfun/1 (eunit_test.erl, line 72)
in call from eunit_proc:run_test/1 (eunit_proc.erl, line 544)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 369)
in call from eunit_proc:handle_test/2 (eunit_proc.erl, line 527)
in call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 469)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 359)
in call from eunit_proc:run_group/2 (eunit_proc.erl, line 583)
**error:{badrecord,{state,server,ranch_test_transport,ranch_test_server,undefined,
                  ranch_test_transport_ranch_test_server_ranch,<0.2252.0>,
                  undefined,49371,undefined,<<>>,true,undefined,0,infinity,
                  undefined,undefined,...}}
  output:<<"">>

  erlmcp_transport_tcp_tests: -client_server_integration_test_/0-fun-5-...=WARNING REPORT==== 29-Jan-2026::18:58:07.639912 ===
Transport option binary unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::18:58:07.639942 ===
Transport option {active,false} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::18:58:07.639958 ===
Transport option {packet,line} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::18:58:07.639970 ===
Transport option {reuseaddr,true} unknown or invalid.

*failed*
in function erlmcp_transport_tcp_tests:'-client_server_integration_test_/0-fun-5-'/0 (/Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_tcp_tests.erl, line 273)
in call from eunit_test:run_testfun/1 (eunit_test.erl, line 72)
in call from eunit_proc:run_test/1 (eunit_proc.erl, line 544)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 369)
in call from eunit_proc:handle_test/2 (eunit_proc.erl, line 527)
in call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 469)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 359)
in call from eunit_proc:run_group/2 (eunit_proc.erl, line 583)
**error:{badrecord,{state,server,integration_server_transport,integration_server,
                  undefined,
                  integration_server_transport_integration_server_ranch,
                  <0.2252.0>,undefined,49372,undefined,<<>>,true,undefined,0,
                  infinity,undefined,undefined,...}}
  output:<<"">>

  erlmcp_transport_tcp_tests: -message_extraction_test_/0-fun-14- (Extract single complete message)...ok
  erlmcp_transport_tcp_tests: -message_extraction_test_/0-fun-11- (Extract multiple complete messages)...ok
  erlmcp_transport_tcp_tests: -message_extraction_test_/0-fun-8- (Incomplete message remains in buffer)...ok
  erlmcp_transport_tcp_tests: -message_extraction_test_/0-fun-5- (No complete message)...ok
  erlmcp_transport_tcp_tests: -message_extraction_test_/0-fun-2- (Empty buffer)...ok
  erlmcp_transport_tcp_tests: -transport_behavior_init_test_/0-fun-5- (Init with client mode)...*failed*
in function erlmcp_transport_tcp_tests:'-transport_behavior_init_test_/0-fun-5-'/0 (/Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_tcp_tests.erl, line 400)
in call from eunit_test:run_testfun/1 (eunit_test.erl, line 72)
in call from eunit_proc:run_test/1 (eunit_proc.erl, line 544)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 369)
in call from eunit_proc:handle_test/2 (eunit_proc.erl, line 527)
in call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 469)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 359)
in call from eunit_proc:run_group/2 (eunit_proc.erl, line 583)
**error:{badrecord,{state,client,undefined,undefined,undefined,undefined,<0.2252.0>,
                  "localhost",9999,
                  [{recbuf,65536},
                   {sndbuf,65536},
                   binary,
                   {active,true},
                   {packet,line},
                   {reuseaddr,...},
                   {...}|...],
                  <<>>,false,undefined,0,infinity,undefined,undefined,...}}
  output:<<"">>

  erlmcp_transport_tcp_tests: -transport_behavior_init_test_/0-fun-2- (Init with server mode)...=WARNING REPORT==== 29-Jan-2026::18:58:07.661086 ===
Transport option binary unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::18:58:07.661128 ===
Transport option {active,false} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::18:58:07.661165 ===
Transport option {packet,line} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::18:58:07.661180 ===
Transport option {reuseaddr,true} unknown or invalid.

*failed*
in function erlmcp_transport_tcp_tests:'-transport_behavior_init_test_/0-fun-2-'/0 (/Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_tcp_tests.erl, line 415)
in call from eunit_test:run_testfun/1 (eunit_test.erl, line 72)
in call from eunit_proc:run_test/1 (eunit_proc.erl, line 544)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 369)
in call from eunit_proc:handle_test/2 (eunit_proc.erl, line 527)
in call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 469)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 359)
in call from eunit_proc:run_group/2 (eunit_proc.erl, line 583)
**error:{badrecord,{state,server,behavior_test_transport,behavior_test_server,
                  undefined,
                  behavior_test_transport_behavior_test_server_ranch,
                  <0.2252.0>,undefined,49373,undefined,<<>>,true,undefined,0,
                  infinity,undefined,undefined,...}}
  output:<<"">>

  erlmcp_transport_tcp_tests: -transport_behavior_send_test_/0-fun-3- (Send with undefined socket)...ok
  erlmcp_transport_tcp_tests: -transport_behavior_send_test_/0-fun-1- (Send with socket but not connected)...ok
  erlmcp_transport_tcp_tests: -transport_behavior_close_test_/0-fun-4- (Close client connection)...ok
  erlmcp_transport_tcp_tests: -transport_behavior_close_test_/0-fun-2- (Close server with ranch)...=WARNING REPORT==== 29-Jan-2026::18:58:07.672920 ===
Transport option binary unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::18:58:07.672958 ===
Transport option {active,false} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::18:58:07.672980 ===
Transport option {packet,line} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::18:58:07.673009 ===
Transport option {reuseaddr,true} unknown or invalid.

*failed*
in function erlmcp_transport_tcp_tests:'-transport_behavior_close_test_/0-fun-2-'/0 (/Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_tcp_tests.erl, line 464)
in call from eunit_test:run_testfun/1 (eunit_test.erl, line 72)
in call from eunit_proc:run_test/1 (eunit_proc.erl, line 544)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 369)
in call from eunit_proc:handle_test/2 (eunit_proc.erl, line 527)
in call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 469)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 359)
in call from eunit_proc:run_group/2 (eunit_proc.erl, line 583)
**error:{badrecord,{state,server,close_test_transport,close_test_server,undefined,
                  close_test_transport_close_test_server_ranch,<0.2252.0>,
                  undefined,49374,undefined,<<>>,true,undefined,0,infinity,
                  undefined,undefined,...}}
  output:<<"">>

  erlmcp_transport_tcp_tests: -reconnection_backoff_test_/0-fun-12- (Backoff increases exponentially)...ok
  erlmcp_transport_tcp_tests: -reconnection_backoff_test_/0-fun-4- (Backoff caps at max delay)...ok
  erlmcp_transport_tcp_tests: -reconnection_max_attempts_test_/0-fun-2-...=ERROR REPORT==== 29-Jan-2026::18:58:07.682412 ===
TCP connection failed: econnrefused
=ERROR REPORT==== 29-Jan-2026::18:58:08.327589 ===
TCP connection failed: econnrefused
=ERROR REPORT==== 29-Jan-2026::18:58:08.764551 ===
TCP connection failed: econnrefused
=ERROR REPORT==== 29-Jan-2026::18:58:10.749347 ===
TCP connection failed: econnrefused
=ERROR REPORT==== 29-Jan-2026::18:58:11.215803 ===
Maximum reconnection attempts (2) reached
*failed*
in function erlmcp_transport_tcp_tests:'-reconnection_max_attempts_test_/0-fun-2-'/0 (/Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_tcp_tests.erl, line 545)
in call from eunit_test:run_testfun/1 (eunit_test.erl, line 72)
in call from eunit_proc:run_test/1 (eunit_proc.erl, line 544)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 369)
in call from eunit_proc:handle_test/2 (eunit_proc.erl, line 527)
in call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 469)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 359)
in call from eunit_proc:run_group/2 (eunit_proc.erl, line 583)
**error:{badrecord,{state,client,undefined,undefined,undefined,undefined,<0.2252.0>,
                  "localhost",9999,
                  [{recbuf,65536},
                   {sndbuf,65536},
                   binary,
                   {active,true},
                   {packet,line},
                   {reuseaddr,...},
                   {...}|...],
                  <<>>,false,undefined,2,2,undefined,undefined,...}}
  output:<<"">>

  erlmcp_transport_tcp_tests: -tcp_error_handling_test_/0-fun-3-...=WARNING REPORT==== 29-Jan-2026::18:58:11.686117 ===
Transport option binary unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::18:58:11.686167 ===
Transport option {active,false} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::18:58:11.686202 ===
Transport option {packet,line} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::18:58:11.686215 ===
Transport option {reuseaddr,true} unknown or invalid.

*failed*
in function erlmcp_transport_tcp_tests:'-tcp_error_handling_test_/0-fun-3-'/0 (/Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_tcp_tests.erl, line 563)
in call from eunit_test:run_testfun/1 (eunit_test.erl, line 72)
in call from eunit_proc:run_test/1 (eunit_proc.erl, line 544)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 369)
in call from eunit_proc:handle_test/2 (eunit_proc.erl, line 527)
in call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 469)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 359)
in call from eunit_proc:run_group/2 (eunit_proc.erl, line 583)
**error:{badrecord,{state,server,test_server_transport_3394,test_server_3394,
                  undefined,test_server_transport_3394_test_server_3394_ranch,
                  <0.2252.0>,undefined,49454,undefined,<<>>,true,undefined,0,
                  infinity,undefined,undefined,...}}
  output:<<"">>

  erlmcp_transport_tcp_tests: -multiple_clients_test_/0-fun-5-...=WARNING REPORT==== 29-Jan-2026::18:58:11.790001 ===
Transport option binary unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::18:58:11.790050 ===
Transport option {active,false} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::18:58:11.790073 ===
Transport option {packet,line} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::18:58:11.790097 ===
Transport option {reuseaddr,true} unknown or invalid.

*failed*
in function erlmcp_transport_tcp_tests:'-multiple_clients_test_/0-fun-5-'/0 (/Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_tcp_tests.erl, line 625)
in call from eunit_test:run_testfun/1 (eunit_test.erl, line 72)
in call from eunit_proc:run_test/1 (eunit_proc.erl, line 544)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 369)
in call from eunit_proc:handle_test/2 (eunit_proc.erl, line 527)
in call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 469)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 359)
in call from eunit_proc:run_group/2 (eunit_proc.erl, line 583)
**error:{badrecord,{state,server,undefined,undefined,undefined,erlmcp_tcp_3458,
                  <0.2252.0>,undefined,49456,undefined,<<>>,true,undefined,0,
                  infinity,undefined,undefined,...}}
  output:<<"">>

  erlmcp_transport_tcp_tests: -ranch_protocol_handler_test_/0-fun-3-...=WARNING REPORT==== 29-Jan-2026::18:58:11.792900 ===
Transport option binary unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::18:58:11.792932 ===
Transport option {active,false} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::18:58:11.792957 ===
Transport option {packet,line} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::18:58:11.793034 ===
Transport option {reuseaddr,true} unknown or invalid.

*failed*
in function erlmcp_transport_tcp_tests:'-ranch_protocol_handler_test_/0-fun-3-'/0 (/Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_tcp_tests.erl, line 670)
in call from eunit_test:run_testfun/1 (eunit_test.erl, line 72)
in call from eunit_proc:run_test/1 (eunit_proc.erl, line 544)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 369)
in call from eunit_proc:handle_test/2 (eunit_proc.erl, line 527)
in call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 469)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 359)
in call from eunit_proc:run_group/2 (eunit_proc.erl, line 583)
**error:{badrecord,{state,server,test_server_transport_3522,test_server_3522,
                  undefined,test_server_transport_3522_test_server_3522_ranch,
                  <0.2252.0>,undefined,49457,undefined,<<>>,true,undefined,0,
                  infinity,undefined,undefined,...}}
  output:<<"">>

  [done in 4.709 s]
=======================================================
  Failed: 13.  Skipped: 0.  Passed: 12.
[0;31m===> [1mError running tests
[0m[0m