[0;32m===> Verifying dependencies...
[0m[0;32m===> Upgrading fs v0.9.2
[0m[0;32m===> Analyzing applications...
[0m[0;32m===> Compiling fs
[0m[0;32m===> Compiling cowboy
[0m[0;32m===> Compiling coveralls
[0m[0;32m===> Compiling proper
[0m[0;32m===> Compiling meck
[0m[0;32m===> Analyzing applications...
[0m[0;32m===> Compiling erlmcp_core
[0m     â”Œâ”€ apps/erlmcp_core/src/erlmcp_server.erl:
     â”‚
 887 â”‚                  [1;31m{[0mnoreply, State};[0m
     â”‚                  [1;31mâ•°â”€â”€[0m[0m Warning: a term is constructed, but never used

     â”Œâ”€ apps/erlmcp_core/src/erlmcp_server.erl:
     â”‚
 897 â”‚                                  [1;31m{[0mnoreply, State};[0m
     â”‚                                  [1;31mâ•°â”€â”€[0m[0m Warning: a term is constructed, but never used

     â”Œâ”€ apps/erlmcp_core/src/erlmcp_server.erl:
     â”‚
 902 â”‚                                  [1;31m{[0mnoreply, State}[0m
     â”‚                                  [1;31mâ•°â”€â”€[0m[0m Warning: a term is constructed, but never used

     â”Œâ”€ apps/erlmcp_core/src/erlmcp_server.erl:
     â”‚
 908 â”‚                          [1;31m{[0mnoreply, State}[0m
     â”‚                          [1;31mâ•°â”€â”€[0m[0m Warning: a term is constructed, but never used


[0;32m===> Compiling erlmcp_transports
[0m     â”Œâ”€ apps/erlmcp_core/test/erlmcp_sse_event_store_tests.erl:
     â”‚
 380 â”‚      ?assertMatch([1;31m_[0m, ets:whereis(TableName)),[0m
     â”‚                   [1;31mâ•°â”€â”€[0m[0m Warning: this clause cannot match because a previous clause at line 380 always matches


     â”Œâ”€ apps/erlmcp_core/test/erlmcp_completion_tests.erl:
     â”‚
 106 â”‚          Value = maps:get(value, Arg, [1;31m<<>>),[0m[0m
     â”‚                                       [1;31mâ•°â”€â”€[0m[0m Warning: a term is constructed, but never used

     â”Œâ”€ apps/erlmcp_core/test/erlmcp_completion_tests.erl:
     â”‚
 379 â”‚          Value = maps:get(value, Arg, [1;31m<<>>),[0m[0m
     â”‚                                       [1;31mâ•°â”€â”€[0m[0m Warning: a term is constructed, but never used

     â”Œâ”€ apps/erlmcp_core/test/erlmcp_completion_tests.erl:
     â”‚
 445 â”‚          Value = maps:get(value, Arg, [1;31m<<>>),[0m[0m
     â”‚                                       [1;31mâ•°â”€â”€[0m[0m Warning: a term is constructed, but never used

     â”Œâ”€ apps/erlmcp_core/test/erlmcp_completion_tests.erl:
     â”‚
 544 â”‚          Value = maps:get(value, Arg, [1;31m<<>>),[0m[0m
     â”‚                                       [1;31mâ•°â”€â”€[0m[0m Warning: a term is constructed, but never used

     â”Œâ”€ apps/erlmcp_core/test/erlmcp_completion_tests.erl:
     â”‚
 566 â”‚          Value = maps:get(value, Arg, [1;31m<<>>),[0m[0m
     â”‚                                       [1;31mâ•°â”€â”€[0m[0m Warning: a term is constructed, but never used

     â”Œâ”€ apps/erlmcp_core/test/erlmcp_completion_tests.erl:
     â”‚
 587 â”‚          Value = maps:get(value, Arg, [1;31m<<>>),[0m[0m
     â”‚                                       [1;31mâ•°â”€â”€[0m[0m Warning: a term is constructed, but never used

     â”Œâ”€ apps/erlmcp_core/test/erlmcp_completion_tests.erl:
     â”‚
 608 â”‚          Value = maps:get(value, Arg, [1;31m<<>>),[0m[0m
     â”‚                                       [1;31mâ•°â”€â”€[0m[0m Warning: a term is constructed, but never used

     â”Œâ”€ apps/erlmcp_core/test/erlmcp_completion_tests.erl:
     â”‚
 630 â”‚          Value = maps:get(value, Arg, [1;31m<<>>),[0m[0m
     â”‚                                       [1;31mâ•°â”€â”€[0m[0m Warning: a term is constructed, but never used


   â”Œâ”€ apps/erlmcp_core/test/erlmcp_server_tests.erl:
   â”‚
 6 â”‚  -[1;31mrecord[0m(state, {[0m
   â”‚   [1;31mâ•°â”€â”€[0m[0m Warning: record state is unused

      â”Œâ”€ apps/erlmcp_core/test/erlmcp_server_tests.erl:
      â”‚
 1060 â”‚      [1;31m{[0mtimeout, 5, fun() ->[0m
      â”‚      [1;31mâ•°â”€â”€[0m[0m Warning: a term is constructed, but never used

      â”Œâ”€ apps/erlmcp_core/test/erlmcp_server_tests.erl:
      â”‚
 1060 â”‚      {timeout, 5, [1;31mfun[0m() ->[0m
      â”‚                   [1;31mâ•°â”€â”€[0m[0m Warning: a term is constructed, but never used

      â”Œâ”€ apps/erlmcp_core/test/erlmcp_server_tests.erl:
      â”‚
 1078 â”‚      [1;31m{[0mtimeout, 5, fun() ->[0m
      â”‚      [1;31mâ•°â”€â”€[0m[0m Warning: a term is constructed, but never used

      â”Œâ”€ apps/erlmcp_core/test/erlmcp_server_tests.erl:
      â”‚
 1078 â”‚      {timeout, 5, [1;31mfun[0m() ->[0m
      â”‚                   [1;31mâ•°â”€â”€[0m[0m Warning: a term is constructed, but never used

      â”Œâ”€ apps/erlmcp_core/test/erlmcp_server_tests.erl:
      â”‚
 1102 â”‚      [1;31m{[0mtimeout, 5, fun() ->[0m
      â”‚      [1;31mâ•°â”€â”€[0m[0m Warning: a term is constructed, but never used

      â”Œâ”€ apps/erlmcp_core/test/erlmcp_server_tests.erl:
      â”‚
 1102 â”‚      {timeout, 5, [1;31mfun[0m() ->[0m
      â”‚                   [1;31mâ•°â”€â”€[0m[0m Warning: a term is constructed, but never used

      â”Œâ”€ apps/erlmcp_core/test/erlmcp_server_tests.erl:
      â”‚
 1120 â”‚      [1;31m{[0mtimeout, 5, fun() ->[0m
      â”‚      [1;31mâ•°â”€â”€[0m[0m Warning: a term is constructed, but never used

      â”Œâ”€ apps/erlmcp_core/test/erlmcp_server_tests.erl:
      â”‚
 1120 â”‚      {timeout, 5, [1;31mfun[0m() ->[0m
      â”‚                   [1;31mâ•°â”€â”€[0m[0m Warning: a term is constructed, but never used

      â”Œâ”€ apps/erlmcp_core/test/erlmcp_server_tests.erl:
      â”‚
 1139 â”‚      [1;31m{[0mtimeout, 5, fun() ->[0m
      â”‚      [1;31mâ•°â”€â”€[0m[0m Warning: a term is constructed, but never used

      â”Œâ”€ apps/erlmcp_core/test/erlmcp_server_tests.erl:
      â”‚
 1139 â”‚      {timeout, 5, [1;31mfun[0m() ->[0m
      â”‚                   [1;31mâ•°â”€â”€[0m[0m Warning: a term is constructed, but never used

      â”Œâ”€ apps/erlmcp_core/test/erlmcp_server_tests.erl:
      â”‚
 1157 â”‚      [1;31m{[0mtimeout, 5, fun() ->[0m
      â”‚      [1;31mâ•°â”€â”€[0m[0m Warning: a term is constructed, but never used

      â”Œâ”€ apps/erlmcp_core/test/erlmcp_server_tests.erl:
      â”‚
 1157 â”‚      {timeout, 5, [1;31mfun[0m() ->[0m
      â”‚                   [1;31mâ•°â”€â”€[0m[0m Warning: a term is constructed, but never used

      â”Œâ”€ apps/erlmcp_core/test/erlmcp_server_tests.erl:
      â”‚
 1176 â”‚      [1;31m{[0mtimeout, 5, fun() ->[0m
      â”‚      [1;31mâ•°â”€â”€[0m[0m Warning: a term is constructed, but never used

      â”Œâ”€ apps/erlmcp_core/test/erlmcp_server_tests.erl:
      â”‚
 1176 â”‚      {timeout, 5, [1;31mfun[0m() ->[0m
      â”‚                   [1;31mâ•°â”€â”€[0m[0m Warning: a term is constructed, but never used


      â”Œâ”€ apps/erlmcp_core/test/erlmcp_json_rpc_tests.erl:
      â”‚
 1733 â”‚      ?assertEqual(99, length(ValidCodes[1;31m)),[0m[0m
      â”‚                                        [1;31mâ•°â”€â”€[0m[0m Warning: this clause cannot match because its guard evaluates to 'false'


     â”Œâ”€ apps/erlmcp_transports/test/erlmcp_transport_ws_tests.erl:
     â”‚
 370 â”‚      DelimitedMsg = [1;31m<<[0mMessage/binary, "\n">>,[0m
     â”‚                     [1;31mâ•°â”€â”€[0m[0m Warning: a term is constructed, but never used


     â”Œâ”€ apps/erlmcp_transports/test/erlmcp_transport_http_SUITE.erl:
     â”‚
 640 â”‚  -[1;31mrecord[0m(mock_state, {[0m
     â”‚   [1;31mâ•°â”€â”€[0m[0m Warning: record mock_state is unused


[0;32m===> Analyzing applications...
[0m[0;32m===> Compiling extra_test
[0m[0;35m===> Cover compilation failed: {no_abstract_code,
                                       "/Users/sac/erlmcp/_build/test/lib/erlmcp_core/ebin/erlmcp_client_tests.beam"}
[0m[0;35m===> Cover compilation failed: {no_abstract_code,
                                       "/Users/sac/erlmcp/_build/test/lib/erlmcp_core/ebin/erlmcp_capabilities_tests.beam"}
[0m[0;32m===> Performing EUnit tests...
[0m======================== EUnit ========================
file "erlmcp_transports.app"
  application 'erlmcp_transports'
    module 'erlmcp_http_header_validator'
    module 'erlmcp_origin_validator'
    module 'erlmcp_pool_manager'
      module 'erlmcp_pool_manager_tests'
        erlmcp_pool_manager_tests: pool_creation_test...[0.002 s] ok
        erlmcp_pool_manager_tests: checkout_checkin_test...ok
        erlmcp_pool_manager_tests: multiple_checkouts_test...ok
        erlmcp_pool_manager_tests: round_robin_strategy_test...ok
        erlmcp_pool_manager_tests: least_loaded_strategy_test...ok
        erlmcp_pool_manager_tests: random_strategy_test...ok
        erlmcp_pool_manager_tests: pool_resize_grow_test...ok
=WARNING REPORT==== 30-Jan-2026::15:14:07.388989 ===
Connection <0.4702.0> died: shutdown
        =WARNING REPORT==== 30-Jan-2026::15:14:07.389035 ===
Connection <0.4703.0> died: shutdown
erlmcp_pool_manager_tests: pool_resize_shrink_test...=WARNING REPORT==== 30-Jan-2026::15:14:07.389063 ===
Connection <0.4704.0> died: shutdown
=WARNING REPORT==== 30-Jan-2026::15:14:07.389088 ===
Connection <0.4705.0> died: shutdown
=WARNING REPORT==== 30-Jan-2026::15:14:07.389112 ===
Connection <0.4706.0> died: shutdown
=WARNING REPORT==== 30-Jan-2026::15:14:07.389127 ===
Connection <0.4707.0> died: shutdown
=WARNING REPORT==== 30-Jan-2026::15:14:07.389139 ===
Connection <0.4708.0> died: shutdown
=WARNING REPORT==== 30-Jan-2026::15:14:07.389161 ===
Connection <0.4709.0> died: shutdown
=WARNING REPORT==== 30-Jan-2026::15:14:07.389172 ===
Connection <0.4710.0> died: shutdown
=WARNING REPORT==== 30-Jan-2026::15:14:07.389216 ===
Connection <0.4711.0> died: shutdown
ok
        erlmcp_pool_manager_tests: pool_resize_bounds_test...ok
        erlmcp_pool_manager_tests: metrics_tracking_test...ok
        erlmcp_pool_manager_tests: utilization_calculation_test...ok
        erlmcp_pool_manager_tests: -health_check_test_/0-fun-1-...[1.004 s] ok
        erlmcp_pool_manager_tests: connection_recovery_test...=WARNING REPORT==== 30-Jan-2026::15:14:08.407965 ===
Connection <0.4752.0> died: killed
[0.101 s] ok
        erlmcp_pool_manager_tests: -concurrent_checkouts_test_/0-fun-5-...[0.011 s] ok
        erlmcp_pool_manager_tests: -high_concurrency_stress_test_/0-fun-7-...[0.006 s] ok
        erlmcp_pool_manager_tests: pool_exhaustion_test...ok
        erlmcp_pool_manager_tests: no_connections_available_test...ok
        =WARNING REPORT==== 30-Jan-2026::15:14:08.541007 ===
Checkin of unknown connection: <0.5080.0>
erlmcp_pool_manager_tests: invalid_checkin_test...ok
        erlmcp_pool_manager_tests: pool_lifecycle_test...[0.200 s] ok
        [done in 1.381 s]
      [done in 1.381 s]
    module 'erlmcp_pool_strategy'
    module 'erlmcp_security_headers'
    module 'erlmcp_transport_adapter'
    module 'erlmcp_transport_behavior'
    module 'erlmcp_transport_discovery'
      module 'erlmcp_transport_discovery_tests'
        erlmcp_transport_discovery_tests:64: -test_start_stop/1-fun-3-...ok
        erlmcp_transport_discovery_tests:65: -test_start_stop/1-fun-1-...ok
        erlmcp_transport_discovery_tests:76: -test_env_discovery/1-fun-5-...ok
        erlmcp_transport_discovery_tests:77: -test_env_discovery/1-fun-3-...ok
        erlmcp_transport_discovery_tests:78: -test_env_discovery/1-fun-1-...ok
        erlmcp_transport_discovery_tests:94: -test_protocol_enable_disable/1-fun-9-...ok
        erlmcp_transport_discovery_tests:95: -test_protocol_enable_disable/1-fun-7-...ok
        erlmcp_transport_discovery_tests:96: -test_protocol_enable_disable/1-fun-5-...ok
        erlmcp_transport_discovery_tests:97: -test_protocol_enable_disable/1-fun-3-...ok
        erlmcp_transport_discovery_tests:98: -test_protocol_enable_disable/1-fun-1-...ok
        erlmcp_transport_discovery_tests:115: -test_watcher_registration/1-fun-4-...ok
        erlmcp_transport_discovery_tests:116: -test_watcher_registration/1-fun-2-...ok
        erlmcp_transport_discovery_tests:144: -test_discovery_events/1-fun-5-...ok
        erlmcp_transport_discovery_tests:145: -test_discovery_events/1-fun-3-...ok
        erlmcp_transport_discovery_tests:162: -test_scan_now/1-fun-3-...ok
        erlmcp_transport_discovery_tests:163: -test_scan_now/1-fun-1-...ok
        erlmcp_transport_discovery_tests: parse_env_key_test...ok
        erlmcp_transport_discovery_tests: convert_env_types_test...ok
        erlmcp_transport_discovery_tests: valid_protocols_test...ok
        [done in 0.862 s]
      [done in 0.862 s]
    module 'erlmcp_transport_health'
    module 'erlmcp_transport_http'
      module 'erlmcp_transport_http_tests'
        erlmcp_transport_http_tests: test_parse_http_url (Parse HTTP URL)...ok
        erlmcp_transport_http_tests: test_parse_https_url (Parse HTTPS URL)...ok
        erlmcp_transport_http_tests: test_parse_url_with_port (Parse URL with port)...ok
        erlmcp_transport_http_tests: test_parse_url_with_path (Parse URL with path)...ok
        erlmcp_transport_http_tests: test_normalize_headers (Normalize headers)...ok
        erlmcp_transport_http_tests: test_transport_init (Transport init)...=ERROR REPORT==== 30-Jan-2026::15:14:10.650946 ===
Gun connection timeout
[1.011 s] ok
        [done in 1.029 s]
      [done in 1.036 s]
    module 'erlmcp_transport_http_server'
    module 'erlmcp_transport_pipeline'
    module 'erlmcp_transport_pool'
    module 'erlmcp_transport_registry'
      module 'erlmcp_transport_registry_tests'
        erlmcp_transport_registry_tests:65: -test_start_stop/1-fun-1-...ok
        erlmcp_transport_registry_tests:101: -test_register_unregister/1-fun-7-...ok
        erlmcp_transport_registry_tests:102: -test_register_unregister/1-fun-5-...ok
        erlmcp_transport_registry_tests:103: -test_register_unregister/1-fun-3-...ok
        erlmcp_transport_registry_tests:122: -test_get_transport/1-fun-4-...ok
        erlmcp_transport_registry_tests:123: -test_get_transport/1-fun-2-...ok
=WARNING REPORT==== 30-Jan-2026::15:14:11.098022 ===
    transport_id: test_health
    what: transport_health_status_changed
    old_status: up
    new_status: degraded
=WARNING REPORT==== 30-Jan-2026::15:14:11.098117 ===
    transport_id: test_health
    what: transport_health_status_changed
    old_status: degraded
    new_status: down
        erlmcp_transport_registry_tests:150: -test_health_status/1-fun-6-...ok
        erlmcp_transport_registry_tests:151: -test_health_status/1-fun-4-...ok
        erlmcp_transport_registry_tests:152: -test_health_status/1-fun-2-...ok
=WARNING REPORT==== 30-Jan-2026::15:14:11.258992 ===
    reason: timeout
    transport_id: test_stats
    total_failures: 1
    what: transport_failure_recorded
=WARNING REPORT==== 30-Jan-2026::15:14:11.259062 ===
    reason: timeout
    transport_id: test_stats
    total_failures: 2
    what: transport_failure_recorded
=WARNING REPORT==== 30-Jan-2026::15:14:11.259099 ===
    reason: timeout
    transport_id: test_stats
    total_failures: 3
    what: transport_failure_recorded
        erlmcp_transport_registry_tests:184: -test_record_success_failure/1-fun-6-...ok
        erlmcp_transport_registry_tests:185: -test_record_success_failure/1-fun-4-...ok
        erlmcp_transport_registry_tests:220: -test_select_transport/1-fun-5-...ok
=WARNING REPORT==== 30-Jan-2026::15:14:12.024993 ===
    reason: network_error
    transport_id: test_detailed_stats
    total_failures: 1
    what: transport_failure_recorded
        erlmcp_transport_registry_tests:248: -test_statistics/1-fun-8-...ok
        erlmcp_transport_registry_tests:249: -test_statistics/1-fun-6-...ok
        erlmcp_transport_registry_tests:250: -test_statistics/1-fun-4-...ok
        erlmcp_transport_registry_tests:251: -test_statistics/1-fun-2-...ok
=WARNING REPORT==== 30-Jan-2026::15:14:12.240054 ===
    pid: <0.5197.0>
    reason: normal
    transport_id: test_monitor
    what: transport_process_died
        erlmcp_transport_registry_tests:281: -test_process_monitoring/1-fun-4-...ok
        erlmcp_transport_registry_tests:282: -test_process_monitoring/1-fun-2-...ok
        erlmcp_transport_registry_tests: health_evaluation_test...ok
        erlmcp_transport_registry_tests: success_rate_test...ok
=WARNING REPORT==== 30-Jan-2026::15:14:12.654020 ===
    transport_id: t2
    what: transport_health_status_changed
    old_status: up
    new_status: down
        erlmcp_transport_registry_tests: get_all_transports_test...[0.101 s] ok
        [done in 2.099 s]
      [done in 2.099 s]
    module 'erlmcp_transport_sse'
      module 'erlmcp_transport_sse_tests'
erlmcp_hooks starting...
=SUPERVISOR REPORT==== 30-Jan-2026::15:14:12.893981 ===
    supervisor: {local,erlmcp_sup}
    errorContext: start_error
    reason: {'EXIT',
                {undef,
                    [{erlmcp_observability_sup,start_link,[],[]},
                     {supervisor,do_start_child_i,3,
                         [{file,"supervisor.erl"},{line,959}]},
                     {supervisor,do_start_child,3,
                         [{file,"supervisor.erl"},{line,945}]},
                     {supervisor,'-start_children/2-fun-0-',3,
                         [{file,"supervisor.erl"},{line,929}]},
                     {supervisor,children_map,4,
                         [{file,"supervisor.erl"},{line,1820}]},
                     {supervisor,init_children,2,
                         [{file,"supervisor.erl"},{line,889}]},
                     {gen_server,init_it,2,
                         [{file,"gen_server.erl"},{line,2229}]},
                     {gen_server,init_it,6,
                         [{file,"gen_server.erl"},{line,2184}]}]}}
    offender: [{pid,undefined},
               {id,erlmcp_observability_sup},
               {mfargs,{erlmcp_observability_sup,start_link,[]}},
               {restart_type,permanent},
               {significant,false},
               {shutdown,infinity},
               {child_type,supervisor}]

=INFO REPORT==== 30-Jan-2026::15:14:12.894379 ===
    application: erlmcp_core
    exited: {{shutdown,
                 {failed_to_start_child,erlmcp_observability_sup,
                     {'EXIT',
                         {undef,
                             [{erlmcp_observability_sup,start_link,[],[]},
                              {supervisor,do_start_child_i,3,
                                  [{file,"supervisor.erl"},{line,959}]},
                              {supervisor,do_start_child,3,
                                  [{file,"supervisor.erl"},{line,945}]},
                              {supervisor,'-start_children/2-fun-0-',3,
                                  [{file,"supervisor.erl"},{line,929}]},
                              {supervisor,children_map,4,
                                  [{file,"supervisor.erl"},{line,1820}]},
                              {supervisor,init_children,2,
                                  [{file,"supervisor.erl"},{line,889}]},
                              {gen_server,init_it,2,
                                  [{file,"gen_server.erl"},{line,2229}]},
                              {gen_server,init_it,6,
                                  [{file,"gen_server.erl"},{line,2184}]}]}}}},
             {erlmcp_app,start,[normal,[]]}}
    type: temporary

        =INFO REPORT==== 30-Jan-2026::15:14:12.894463 ===
    application: jesse
    exited: stopped
    type: temporary

=INFO REPORT==== 30-Jan-2026::15:14:12.894489 ===
    application: jsx
    exited: stopped
    type: temporary

*** context setup failed ***
**in function erlmcp_transport_sse_tests:setup/0 (/Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_sse_tests.erl, line 13)
**error:{badmatch,
    {error,
        {erlmcp_core,
            {{shutdown,
                 {failed_to_start_child,erlmcp_observability_sup,
                     {'EXIT',
                         {undef,
                             [{erlmcp_observability_sup,start_link,...},
                              {supervisor,...},
                              {...}|...]}}}},
             {erlmcp_app,start,[normal,[]]}}}}}


      [done in 0.135 s]
=CRASH REPORT==== 30-Jan-2026::15:14:12.894484 ===
  crasher:
    initial call: application_master:init/3
    pid: <0.5217.0>
    registered_name: []
    exception exit: {{shutdown,
                      {failed_to_start_child,erlmcp_observability_sup,
                       {'EXIT',
                        {undef,
                         [{erlmcp_observability_sup,start_link,[],[]},
                          {supervisor,do_start_child_i,3,
                           [{file,"supervisor.erl"},{line,959}]},
                          {supervisor,do_start_child,3,
                           [{file,"supervisor.erl"},{line,945}]},
                          {supervisor,'-start_children/2-fun-0-',3,
                           [{file,"supervisor.erl"},{line,929}]},
                          {supervisor,children_map,4,
                           [{file,"supervisor.erl"},{line,1820}]},
                          {supervisor,init_children,2,
                           [{file,"supervisor.erl"},{line,889}]},
                          {gen_server,init_it,2,
                           [{file,"gen_server.erl"},{line,2229}]},
                          {gen_server,init_it,6,
                           [{file,"gen_server.erl"},{line,2184}]}]}}}},
                     {erlmcp_app,start,[normal,[]]}}
      in function  application_master:init/3 (application_master.erl, line 143)
    ancestors: [application_controller,<0.10.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.5218.0>,normal}]
    links: [<0.45.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 29
    reductions: 156
  neighbours:

    module 'erlmcp_transport_stdio'
      module 'erlmcp_transport_stdio_tests'
        erlmcp_transport_stdio_tests: test_stdio_init (Basic stdio transport initialization)...ok
        erlmcp_transport_stdio_tests: test_stdio_send (Stdio transport send operation)...ok
        erlmcp_transport_stdio_tests: test_stdio_close (Stdio transport close operation)...[0.101 s] ok
        erlmcp_transport_stdio_tests: test_stdio_test_mode (Stdio test mode detection)...ok
        erlmcp_transport_stdio_tests: test_stdio_reader_lifecycle (Stdio reader process lifecycle)...ok
        erlmcp_transport_stdio_tests: test_stdio_message_framing (Stdio message framing)...ok
        erlmcp_transport_stdio_tests: test_stdio_line_trimming (Stdio line trimming)...ok
        erlmcp_transport_stdio_tests: test_stdio_empty_line_handling (Stdio empty line handling)...ok
        erlmcp_transport_stdio_tests: test_stdio_buffer_management (Stdio buffer management)...ok
        erlmcp_transport_stdio_tests: test_stdio_owner_monitoring (Stdio owner monitoring)...=ERROR REPORT==== 30-Jan-2026::15:14:13.026029 ===
** Generic server <0.5301.0> terminating 
** Last message in was {'DOWN',#Ref<0.968008470.4002938882.162336>,process,
                               <0.5300.0>,killed}
** When Server state == {state,<0.5300.0>,#Ref<0.968008470.4002938882.162336>,
                               undefined,<<>>,true,16777216,undefined}
** Reason for termination ==
** {owner_died,killed}

=CRASH REPORT==== 30-Jan-2026::15:14:13.026146 ===
  crasher:
    initial call: erlmcp_transport_stdio:init/1
    pid: <0.5301.0>
    registered_name: []
    exception exit: {owner_died,killed}
      in function  gen_server:handle_common_reply/8 (gen_server.erl, line 2476)
    ancestors: [<0.5280.0>]
    message_queue_len: 0
    messages: []
    links: [<0.5280.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 2586
    stack_size: 29
    reductions: 4019
  neighbours:
    neighbour:
      pid: <0.5299.0>
      registered_name: []
      initial_call: {eunit_proc,group_leader_process,1}
      current_function: {eunit_proc,group_leader_loop,3}
      ancestors: []
      message_queue_len: 0
      links: [<0.5280.0>]
      trap_exit: false
      status: waiting
      heap_size: 233
      stack_size: 5
      reductions: 23
      current_stacktrace: [{eunit_proc,group_leader_loop,3,
                              [{file,"eunit_proc.erl"},{line,617}]}]
    neighbour:
      pid: <0.5280.0>
      registered_name: []
      initial_call: {erlang,apply,2}
      current_function: {timer,sleep,1}
      ancestors: []
      message_queue_len: 0
      links: [<0.5299.0>,<0.5301.0>,<0.5279.0>]
      trap_exit: false
      status: waiting
      heap_size: 987
      stack_size: 38
      reductions: 2548
      current_stacktrace: [{timer,sleep,1,[{file,"timer.erl"},{line,548}]},
                  {erlmcp_transport_stdio_tests,test_stdio_owner_monitoring,
                      0,
                      [{file,
                           "/Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_stdio_tests.erl"},
                       {line,347}]},
                  {eunit_test,run_testfun,1,
                      [{file,"eunit_test.erl"},{line,72}]},
                  {eunit_proc,run_test,1,[{file,"eunit_proc.erl"},{line,544}]},
                  {eunit_proc,with_timeout,3,
                      [{file,"eunit_proc.erl"},{line,369}]},
                  {eunit_proc,handle_test,2,
                      [{file,"eunit_proc.erl"},{line,527}]},
                  {eunit_proc,tests_inorder,3,
                      [{file,"eunit_proc.erl"},{line,469}]},
                  {eunit_proc,with_timeout,3,
                      [{file,"eunit_proc.erl"},{line,359}]}]
*skipped*
        undefined
        *unexpected termination of test process*
::{owner_died,killed}

      erlmcp_transport_stdio_tests: test_full_stdio_integration (Full stdio integration)...ok
      =WARNING REPORT==== 30-Jan-2026::15:14:13.130068 ===
Transport stdio_test_transport unregistered (process died)
erlmcp_transport_stdio_tests: test_stdio_with_registry (Stdio with registry)...ok
      erlmcp_transport_stdio_tests: test_stdio_concurrent_messages (Stdio concurrent messages)...[0.602 s] ok
      erlmcp_transport_stdio_tests: test_stdio_load_testing (Stdio load testing)...[0.501 s] ok
      [done in 1.445 s]
    [done in 1.445 s]
  module 'erlmcp_transport_sup'
    module 'erlmcp_transport_sup_tests'
      erlmcp_transport_sup_tests: test_supervisor_start (Supervisor starts successfully)...ok
      erlmcp_transport_sup_tests: test_supervisor_strategy (Supervisor strategy is one_for_one)...*failed*
in function supervisor:get_childspec/1
  called as get_childspec(erlmcp_transport_sup)
in call from erlmcp_transport_sup_tests:test_supervisor_strategy/0 (/Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_sup_tests.erl, line 68)
in call from eunit_test:run_testfun/1 (eunit_test.erl, line 72)
in call from eunit_proc:run_test/1 (eunit_proc.erl, line 544)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 369)
in call from eunit_proc:handle_test/2 (eunit_proc.erl, line 527)
in call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 469)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 359)
**error:undef
  output:<<"">>

      erlmcp_transport_sup_tests: test_start_stdio_child (Can start stdio transport child)...ok
      erlmcp_transport_sup_tests: test_start_tcp_child (Can start TCP transport child)...=WARNING REPORT==== 30-Jan-2026::15:14:14.367692 ===
Transport option binary unknown or invalid.

=WARNING REPORT==== 30-Jan-2026::15:14:14.367753 ===
Transport option {active,false} unknown or invalid.

=WARNING REPORT==== 30-Jan-2026::15:14:14.367798 ===
Transport option {packet,line} unknown or invalid.

=WARNING REPORT==== 30-Jan-2026::15:14:14.367827 ===
Transport option {reuseaddr,true} unknown or invalid.

=WARNING REPORT==== 30-Jan-2026::15:14:14.369564 ===
TCP handler terminating before init complete: shutdown
[0.016 s] ok
      erlmcp_transport_sup_tests: test_start_http_child (Can start HTTP transport child)...=ERROR REPORT==== 30-Jan-2026::15:14:15.373045 ===
Gun connection timeout
[1.001 s] ok
      erlmcp_transport_sup_tests: test_start_ws_child (Can start WebSocket transport child).../Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_sup_tests.erl:194:<0.5465.0>: WS child start failed: {{'EXIT',
                         {undef,
                          [{erlmcp_tracing,start_span,
                            [<<"transport_ws.init">>],
                            []},
                           {erlmcp_transport_ws,init,2,
                            [{file,
                              "/Users/sac/erlmcp/apps/erlmcp_transports/src/erlmcp_transport_ws.erl"},
                             {line,95}]},
                           {supervisor,do_start_child_i,3,
                            [{file,"supervisor.erl"},{line,959}]},
                           {supervisor,do_start_child,3,
                            [{file,"supervisor.erl"},{line,945}]},
                           {supervisor,handle_start_child,2,
                            [{file,"supervisor.erl"},{line,1256}]},
                           {supervisor,handle_call,3,
                            [{file,"supervisor.erl"},{line,1001}]},
                           {gen_server,try_handle_call,4,
                            [{file,"gen_server.erl"},{line,2381}]},
                           {gen_server,handle_msg,6,
                            [{file,"gen_server.erl"},{line,2410}]}]}},
                        {child,undefined,ws_test,
                         {erlmcp_transport_ws,init,
                          [<<"ws_sup_test">>,#{port => 0,path => "/mcp/ws"}]},
                         temporary,false,5000,worker,
                         [erlmcp_transport_ws]}}
[0.001 s] ok
      erlmcp_transport_sup_tests: test_start_sse_child (Can start SSE transport child).../Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_sup_tests.erl:223:<0.5465.0>: SSE child start failed: {{'EXIT',
                          {undef,
                           [{erlmcp_tracing,start_span,
                             [<<"transport_sse.init">>],
                             []},
                            {erlmcp_transport_sse,init,2,
                             [{file,
                               "/Users/sac/erlmcp/apps/erlmcp_transports/src/erlmcp_transport_sse.erl"},
                              {line,51}]},
                            {supervisor,do_start_child_i,3,
                             [{file,"supervisor.erl"},{line,959}]},
                            {supervisor,do_start_child,3,
                             [{file,"supervisor.erl"},{line,945}]},
                            {supervisor,handle_start_child,2,
                             [{file,"supervisor.erl"},{line,1256}]},
                            {supervisor,handle_call,3,
                             [{file,"supervisor.erl"},{line,1001}]},
                            {gen_server,try_handle_call,4,
                             [{file,"gen_server.erl"},{line,2381}]},
                            {gen_server,handle_msg,6,
                             [{file,"gen_server.erl"},{line,2410}]}]}},
                         {child,undefined,sse_test,
                          {erlmcp_transport_sse,init,
                           [<<"sse_sup_test">>,
                            #{port => 0,path => "/mcp/sse"}]},
                          temporary,false,5000,worker,
                          [erlmcp_transport_sse]}}
[0.001 s] ok
      erlmcp_transport_sup_tests: test_gproc_registration (Transport registers to gproc)...[0.101 s] ok
      erlmcp_transport_sup_tests: test_child_restart (Supervisor restarts crashed child)...=SUPERVISOR REPORT==== 30-Jan-2026::15:14:15.488101 ===
    supervisor: {local,erlmcp_transport_sup}
    errorContext: child_terminated
    reason: killed
    offender: [{pid,<0.5503.0>},
               {id,restart_test},
               {mfargs,{erlmcp_transport_stdio,start_link,[<0.5465.0>]}},
               {restart_type,permanent},
               {significant,false},
               {shutdown,5000},
               {child_type,worker}]

[0.201 s] ok
      erlmcp_transport_sup_tests: test_child_termination (Supervisor handles child termination)...[0.101 s] ok
      erlmcp_transport_sup_tests: test_multiple_transports (Multiple transports can coexist)...=WARNING REPORT==== 30-Jan-2026::15:14:15.796243 ===
Transport option binary unknown or invalid.

=WARNING REPORT==== 30-Jan-2026::15:14:15.796295 ===
Transport option {active,false} unknown or invalid.

=WARNING REPORT==== 30-Jan-2026::15:14:15.796328 ===
Transport option {packet,line} unknown or invalid.

=WARNING REPORT==== 30-Jan-2026::15:14:15.796348 ===
Transport option {reuseaddr,true} unknown or invalid.

=WARNING REPORT==== 30-Jan-2026::15:14:15.796680 ===
TCP handler terminating before init complete: shutdown
ok
undefined
*unexpected termination of test process*
::shutdown

=======================================================
  Failed: 1.  Skipped: 0.  Passed: 88.
One or more tests were cancelled.
[0;31m===> [1mError running tests
[0m[0m