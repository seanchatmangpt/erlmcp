===> Verifying dependencies...
===> Fetching fs v0.9.2
===> Analyzing applications...
===> Compiling fs
===> Compiling cowboy
===> Compiling coveralls
===> Compiling proper
===> Compiling meck
===> Analyzing applications...
===> Compiling erlmcp_core
     ┌─ apps/erlmcp_core/src/erlmcp_server.erl:
     │
 885 │                  {noreply, State};
     │                  ╰── Warning: a term is constructed, but never used

     ┌─ apps/erlmcp_core/src/erlmcp_server.erl:
     │
 895 │                                  {noreply, State};
     │                                  ╰── Warning: a term is constructed, but never used

     ┌─ apps/erlmcp_core/src/erlmcp_server.erl:
     │
 900 │                                  {noreply, State}
     │                                  ╰── Warning: a term is constructed, but never used

     ┌─ apps/erlmcp_core/src/erlmcp_server.erl:
     │
 906 │                          {noreply, State}
     │                          ╰── Warning: a term is constructed, but never used


===> Compiling erlmcp_observability
===> Compiling erlmcp_transports
     ┌─ apps/erlmcp_transports/test/erlmcp_transport_ws_tests.erl:
     │
 370 │      DelimitedMsg = <<Message/binary, "\n">>,
     │                     ╰── Warning: a term is constructed, but never used


===> Analyzing applications...
===> Compiling extra_test
===> Performing EUnit tests...
======================== EUnit ========================
module 'erlmcp_transport_tcp_tests'
  erlmcp_transport_tcp_tests: -client_start_test_/0-fun-8- (Start client with valid options)...[0.054 s] ok
  erlmcp_transport_tcp_tests: -client_start_test_/0-fun-5- (Client init creates proper state)...=ERROR REPORT==== 29-Jan-2026::19:45:57.307322 ===
TCP connection failed: econnrefused
*failed*
in function erlmcp_transport_tcp_tests:'-client_start_test_/0-fun-5-'/0 (/Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_tcp_tests.erl, line 110)
in call from eunit_test:run_testfun/1 (eunit_test.erl, line 72)
in call from eunit_proc:run_test/1 (eunit_proc.erl, line 544)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 369)
in call from eunit_proc:handle_test/2 (eunit_proc.erl, line 527)
in call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 469)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 359)
in call from eunit_proc:run_group/2 (eunit_proc.erl, line 583)
**error:{badrecord,{state,client,undefined,undefined,undefined,undefined,<0.2609.0>,
                  "127.0.0.1",8888,
                  [{recbuf,32768},
                   {sndbuf,32768},
                   {buffer,32768},
                   {nodelay,true},
                   {keepalive,true},
                   binary,{...}|...],
                  <<>>,false,#Ref<0.1256524246.1137180673.222253>,1,infinity,
                  undefined,undefined,...}}
  output:<<"">>

  erlmcp_transport_tcp_tests: -client_connection_failure_test_/0-fun-3-...=ERROR REPORT==== 29-Jan-2026::19:45:57.310555 ===
TCP connection failed: econnrefused
*failed*
in function erlmcp_transport_tcp_tests:'-client_connection_failure_test_/0-fun-3-'/0 (/Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_tcp_tests.erl, line 133)
in call from eunit_test:run_testfun/1 (eunit_test.erl, line 72)
in call from eunit_proc:run_test/1 (eunit_proc.erl, line 544)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 369)
in call from eunit_proc:handle_test/2 (eunit_proc.erl, line 527)
in call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 469)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 359)
in call from eunit_proc:run_group/2 (eunit_proc.erl, line 583)
**error:{badrecord,{state,client,test_client_transport,test_server,undefined,
                  undefined,<0.2603.0>,"localhost",9999,
                  [{recbuf,65536},
                   {sndbuf,65536},
                   binary,
                   {active,true},
                   {packet,line},
                   {reuseaddr,...},
                   {...}|...],
                  <<>>,false,#Ref<0.1256524246.1137180673.222285>,1,3,
                  undefined,undefined,...}}
  output:<<"">>

  erlmcp_transport_tcp_tests: -client_send_not_connected_test_/0-fun-1- (Send fails when not connected)...=ERROR REPORT==== 29-Jan-2026::19:45:57.514707 ===
TCP connection failed: econnrefused
[0.101 s] ok
  erlmcp_transport_tcp_tests: -server_start_test_/0-fun-12- (Start server with valid options)...=WARNING REPORT==== 29-Jan-2026::19:45:57.694227 ===
Transport option binary unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::19:45:57.694282 ===
Transport option {active,false} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::19:45:57.694318 ===
Transport option {packet,line} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::19:45:57.694350 ===
Transport option {reuseaddr,true} unknown or invalid.

*failed*
in function erlmcp_transport_tcp_tests:'-server_start_test_/0-fun-12-'/0 (/Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_tcp_tests.erl, line 176)
in call from eunit_test:run_testfun/1 (eunit_test.erl, line 72)
in call from eunit_proc:run_test/1 (eunit_proc.erl, line 544)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 369)
in call from eunit_proc:handle_test/2 (eunit_proc.erl, line 527)
in call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 469)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 359)
in call from eunit_proc:run_group/2 (eunit_proc.erl, line 583)
**error:{badrecord,{state,server,test_server_transport,test_server,undefined,
                  test_server_transport_test_server_ranch,<0.2621.0>,
                  undefined,62201,undefined,<<>>,true,undefined,0,infinity,
                  undefined,undefined,...}}
  output:<<"">>

  erlmcp_transport_tcp_tests: -server_start_test_/0-fun-6- (Server state initialization)...=WARNING REPORT==== 29-Jan-2026::19:45:57.700379 ===
Transport option binary unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::19:45:57.700428 ===
Transport option {active,false} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::19:45:57.700464 ===
Transport option {packet,line} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::19:45:57.700495 ===
Transport option {reuseaddr,true} unknown or invalid.

*failed*
in function erlmcp_transport_tcp_tests:'-server_start_test_/0-fun-6-'/0 (/Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_tcp_tests.erl, line 202)
in call from eunit_test:run_testfun/1 (eunit_test.erl, line 72)
in call from eunit_proc:run_test/1 (eunit_proc.erl, line 544)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 369)
in call from eunit_proc:handle_test/2 (eunit_proc.erl, line 527)
in call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 469)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 359)
in call from eunit_proc:run_group/2 (eunit_proc.erl, line 583)
**error:{badrecord,{state,server,my_transport,my_server,undefined,
                  my_transport_my_server_ranch,<0.2621.0>,undefined,62202,
                  undefined,<<>>,true,undefined,0,infinity,undefined,
                  undefined,...}}
  output:<<"">>

  =WARNING REPORT==== 29-Jan-2026::19:45:57.704099 ===
Transport option binary unknown or invalid.

erlmcp_transport_tcp_tests: -server_ranch_integration_test_/0-fun-2-...=WARNING REPORT==== 29-Jan-2026::19:45:57.704143 ===
Transport option {active,false} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::19:45:57.704172 ===
Transport option {packet,line} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::19:45:57.704192 ===
Transport option {reuseaddr,true} unknown or invalid.

*failed*
in function erlmcp_transport_tcp_tests:'-server_ranch_integration_test_/0-fun-2-'/0 (/Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_tcp_tests.erl, line 229)
in call from eunit_test:run_testfun/1 (eunit_test.erl, line 72)
in call from eunit_proc:run_test/1 (eunit_proc.erl, line 544)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 369)
in call from eunit_proc:handle_test/2 (eunit_proc.erl, line 527)
in call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 469)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 359)
in call from eunit_proc:run_group/2 (eunit_proc.erl, line 583)
**error:{badrecord,{state,server,ranch_test_transport,ranch_test_server,undefined,
                  ranch_test_transport_ranch_test_server_ranch,<0.2603.0>,
                  undefined,62203,undefined,<<>>,true,undefined,0,infinity,
                  undefined,undefined,...}}
  output:<<"">>

  =WARNING REPORT==== 29-Jan-2026::19:45:57.707135 ===
Transport option binary unknown or invalid.

erlmcp_transport_tcp_tests: -client_server_integration_test_/0-fun-5-...=WARNING REPORT==== 29-Jan-2026::19:45:57.707163 ===
Transport option {active,false} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::19:45:57.707187 ===
Transport option {packet,line} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::19:45:57.707204 ===
Transport option {reuseaddr,true} unknown or invalid.

*failed*
in function erlmcp_transport_tcp_tests:'-client_server_integration_test_/0-fun-5-'/0 (/Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_tcp_tests.erl, line 273)
in call from eunit_test:run_testfun/1 (eunit_test.erl, line 72)
in call from eunit_proc:run_test/1 (eunit_proc.erl, line 544)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 369)
in call from eunit_proc:handle_test/2 (eunit_proc.erl, line 527)
in call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 469)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 359)
in call from eunit_proc:run_group/2 (eunit_proc.erl, line 583)
**error:{badrecord,{state,server,integration_server_transport,integration_server,
                  undefined,
                  integration_server_transport_integration_server_ranch,
                  <0.2603.0>,undefined,62204,undefined,<<>>,true,undefined,0,
                  infinity,undefined,undefined,...}}
  output:<<"">>

  erlmcp_transport_tcp_tests: -message_extraction_test_/0-fun-14- (Extract single complete message)...ok
  erlmcp_transport_tcp_tests: -message_extraction_test_/0-fun-11- (Extract multiple complete messages)...ok
  erlmcp_transport_tcp_tests: -message_extraction_test_/0-fun-8- (Incomplete message remains in buffer)...ok
  erlmcp_transport_tcp_tests: -message_extraction_test_/0-fun-5- (No complete message)...ok
  erlmcp_transport_tcp_tests: -message_extraction_test_/0-fun-2- (Empty buffer)...ok
  erlmcp_transport_tcp_tests: -transport_behavior_init_test_/0-fun-5- (Init with client mode)...*failed*
in function erlmcp_transport_tcp_tests:'-transport_behavior_init_test_/0-fun-5-'/0 (/Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_tcp_tests.erl, line 400)
in call from eunit_test:run_testfun/1 (eunit_test.erl, line 72)
in call from eunit_proc:run_test/1 (eunit_proc.erl, line 544)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 369)
in call from eunit_proc:handle_test/2 (eunit_proc.erl, line 527)
in call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 469)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 359)
in call from eunit_proc:run_group/2 (eunit_proc.erl, line 583)
**error:{badrecord,{state,client,undefined,undefined,undefined,undefined,<0.2603.0>,
                  "localhost",9999,
                  [{recbuf,65536},
                   {sndbuf,65536},
                   binary,
                   {active,true},
                   {packet,line},
                   {reuseaddr,...},
                   {...}|...],
                  <<>>,false,undefined,0,infinity,undefined,undefined,...}}
  output:<<"">>

  erlmcp_transport_tcp_tests: -transport_behavior_init_test_/0-fun-2- (Init with server mode)...=WARNING REPORT==== 29-Jan-2026::19:45:57.728269 ===
Transport option binary unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::19:45:57.728325 ===
Transport option {active,false} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::19:45:57.728373 ===
Transport option {packet,line} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::19:45:57.728393 ===
Transport option {reuseaddr,true} unknown or invalid.

*failed*
in function erlmcp_transport_tcp_tests:'-transport_behavior_init_test_/0-fun-2-'/0 (/Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_tcp_tests.erl, line 415)
in call from eunit_test:run_testfun/1 (eunit_test.erl, line 72)
in call from eunit_proc:run_test/1 (eunit_proc.erl, line 544)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 369)
in call from eunit_proc:handle_test/2 (eunit_proc.erl, line 527)
in call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 469)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 359)
in call from eunit_proc:run_group/2 (eunit_proc.erl, line 583)
**error:{badrecord,{state,server,behavior_test_transport,behavior_test_server,
                  undefined,
                  behavior_test_transport_behavior_test_server_ranch,
                  <0.2603.0>,undefined,62205,undefined,<<>>,true,undefined,0,
                  infinity,undefined,undefined,...}}
  output:<<"">>

  erlmcp_transport_tcp_tests: -transport_behavior_send_test_/0-fun-3- (Send with undefined socket)...ok
  erlmcp_transport_tcp_tests: -transport_behavior_send_test_/0-fun-1- (Send with socket but not connected)...ok
  erlmcp_transport_tcp_tests: -transport_behavior_close_test_/0-fun-4- (Close client connection)...ok
  erlmcp_transport_tcp_tests: -transport_behavior_close_test_/0-fun-2- (Close server with ranch)...=WARNING REPORT==== 29-Jan-2026::19:45:57.740234 ===
Transport option binary unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::19:45:57.740286 ===
Transport option {active,false} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::19:45:57.740334 ===
Transport option {packet,line} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::19:45:57.740351 ===
Transport option {reuseaddr,true} unknown or invalid.

*failed*
in function erlmcp_transport_tcp_tests:'-transport_behavior_close_test_/0-fun-2-'/0 (/Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_tcp_tests.erl, line 464)
in call from eunit_test:run_testfun/1 (eunit_test.erl, line 72)
in call from eunit_proc:run_test/1 (eunit_proc.erl, line 544)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 369)
in call from eunit_proc:handle_test/2 (eunit_proc.erl, line 527)
in call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 469)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 359)
in call from eunit_proc:run_group/2 (eunit_proc.erl, line 583)
**error:{badrecord,{state,server,close_test_transport,close_test_server,undefined,
                  close_test_transport_close_test_server_ranch,<0.2603.0>,
                  undefined,62206,undefined,<<>>,true,undefined,0,infinity,
                  undefined,undefined,...}}
  output:<<"">>

  erlmcp_transport_tcp_tests: -reconnection_backoff_test_/0-fun-12- (Backoff increases exponentially)...ok
  erlmcp_transport_tcp_tests: -reconnection_backoff_test_/0-fun-4- (Backoff caps at max delay)...ok
  erlmcp_transport_tcp_tests: -reconnection_max_attempts_test_/0-fun-2-...=ERROR REPORT==== 29-Jan-2026::19:45:57.749575 ===
TCP connection failed: econnrefused
=ERROR REPORT==== 29-Jan-2026::19:45:58.332721 ===
TCP connection failed: econnrefused
=ERROR REPORT==== 29-Jan-2026::19:45:58.924570 ===
TCP connection failed: econnrefused
=ERROR REPORT==== 29-Jan-2026::19:46:00.435708 ===
TCP connection failed: econnrefused
=ERROR REPORT==== 29-Jan-2026::19:46:01.200007 ===
Maximum reconnection attempts (2) reached
*failed*
in function erlmcp_transport_tcp_tests:'-reconnection_max_attempts_test_/0-fun-2-'/0 (/Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_tcp_tests.erl, line 545)
in call from eunit_test:run_testfun/1 (eunit_test.erl, line 72)
in call from eunit_proc:run_test/1 (eunit_proc.erl, line 544)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 369)
in call from eunit_proc:handle_test/2 (eunit_proc.erl, line 527)
in call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 469)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 359)
in call from eunit_proc:run_group/2 (eunit_proc.erl, line 583)
**error:{badrecord,{state,client,undefined,undefined,undefined,undefined,<0.2603.0>,
                  "localhost",9999,
                  [{recbuf,65536},
                   {sndbuf,65536},
                   binary,
                   {active,true},
                   {packet,line},
                   {reuseaddr,...},
                   {...}|...],
                  <<>>,false,undefined,2,2,undefined,undefined,...}}
  output:<<"">>

  erlmcp_transport_tcp_tests: -tcp_error_handling_test_/0-fun-3-...=WARNING REPORT==== 29-Jan-2026::19:46:01.753354 ===
Transport option binary unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::19:46:01.753410 ===
Transport option {active,false} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::19:46:01.753443 ===
Transport option {packet,line} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::19:46:01.753460 ===
Transport option {reuseaddr,true} unknown or invalid.

*failed*
in function erlmcp_transport_tcp_tests:'-tcp_error_handling_test_/0-fun-3-'/0 (/Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_tcp_tests.erl, line 563)
in call from eunit_test:run_testfun/1 (eunit_test.erl, line 72)
in call from eunit_proc:run_test/1 (eunit_proc.erl, line 544)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 369)
in call from eunit_proc:handle_test/2 (eunit_proc.erl, line 527)
in call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 469)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 359)
in call from eunit_proc:run_group/2 (eunit_proc.erl, line 583)
**error:{badrecord,{state,server,test_server_transport_132,test_server_132,undefined,
                  test_server_transport_132_test_server_132_ranch,<0.2603.0>,
                  undefined,62214,undefined,<<>>,true,undefined,0,infinity,
                  undefined,undefined,...}}
  output:<<"">>

=WARNING REPORT==== 29-Jan-2026::19:46:01.857295 ===
Transport option binary unknown or invalid.

  =WARNING REPORT==== 29-Jan-2026::19:46:01.857350 ===
Transport option {active,false} unknown or invalid.

erlmcp_transport_tcp_tests: -multiple_clients_test_/0-fun-5-...=WARNING REPORT==== 29-Jan-2026::19:46:01.857380 ===
Transport option {packet,line} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::19:46:01.857466 ===
Transport option {reuseaddr,true} unknown or invalid.

*failed*
in function erlmcp_transport_tcp_tests:'-multiple_clients_test_/0-fun-5-'/0 (/Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_tcp_tests.erl, line 625)
in call from eunit_test:run_testfun/1 (eunit_test.erl, line 72)
in call from eunit_proc:run_test/1 (eunit_proc.erl, line 544)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 369)
in call from eunit_proc:handle_test/2 (eunit_proc.erl, line 527)
in call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 469)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 359)
in call from eunit_proc:run_group/2 (eunit_proc.erl, line 583)
**error:{badrecord,{state,server,undefined,undefined,undefined,erlmcp_tcp_196,
                  <0.2603.0>,undefined,62215,undefined,<<>>,true,undefined,0,
                  infinity,undefined,undefined,...}}
  output:<<"">>

=WARNING REPORT==== 29-Jan-2026::19:46:01.860114 ===
Transport option binary unknown or invalid.

  =WARNING REPORT==== 29-Jan-2026::19:46:01.860162 ===
Transport option {active,false} unknown or invalid.

erlmcp_transport_tcp_tests: -ranch_protocol_handler_test_/0-fun-3-...=WARNING REPORT==== 29-Jan-2026::19:46:01.860201 ===
Transport option {packet,line} unknown or invalid.

=WARNING REPORT==== 29-Jan-2026::19:46:01.860213 ===
Transport option {reuseaddr,true} unknown or invalid.

*failed*
in function erlmcp_transport_tcp_tests:'-ranch_protocol_handler_test_/0-fun-3-'/0 (/Users/sac/erlmcp/apps/erlmcp_transports/test/erlmcp_transport_tcp_tests.erl, line 670)
in call from eunit_test:run_testfun/1 (eunit_test.erl, line 72)
in call from eunit_proc:run_test/1 (eunit_proc.erl, line 544)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 369)
in call from eunit_proc:handle_test/2 (eunit_proc.erl, line 527)
in call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 469)
in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 359)
in call from eunit_proc:run_group/2 (eunit_proc.erl, line 583)
**error:{badrecord,{state,server,test_server_transport_260,test_server_260,undefined,
                  test_server_transport_260_test_server_260_ranch,<0.2603.0>,
                  undefined,62216,undefined,<<>>,true,undefined,0,infinity,
                  undefined,undefined,...}}
  output:<<"">>

  [done in 4.725 s]
=======================================================
  Failed: 13.  Skipped: 0.  Passed: 12.
===> Error running tests
