# Kafka Configuration for erlmcp v3

# Broker Configuration
broker.id=1
listeners=PLAINTEXT://kafka:9092,SSL://kafka:9093,EXTERNAL://localhost:9094
advertised.listeners=PLAINTEXT://kafka:9092,SSL://kafka:9093,EXTERNAL://localhost:9094
listener.security.protocol.map=PLAINTEXT:PLAINTEXT,SSL:SSL,EXTERNAL:SSL
inter.broker.listener.name=PLAINTEXT
offsets.topic.replication.factor=3
transaction.state.log.replication.factor=3
transaction.state.log.min.isr=2
default.replication.factor=3
min.insync.replicas=2
num.network.threads=8
num.io.threads=16
socket.send.buffer.bytes=1024000
socket.receive.buffer.bytes=1024000
socket.request.max.bytes=104857600

# Log Configuration
log.dirs=/kafka/logs
num.partitions=16
num.recovery.threads.per.data.dir=4
log.retention.hours=168
log.retention.check.interval.ms=300000
log.segment.bytes=1073741824
log.retention.bytes=10737418240
log.roll.hours=168
log.roll.jitter.hours=1
log.roll.interval.ms=86400000
log.flush.interval.messages=9223372036854775807
log.flush.interval.ms=9223372036854775807
log.flush.scheduler.interval.ms=9223372036854775807
log.flush.offset.checkpoint.interval.ms=60000
log.cleaner.enable=false
log.cleaner.threads=1
log.cleaner.io.buffer.size=1048576
log.cleaner.io.max.bytes.per.second=10485760
log.cleaner.backoff.ms=15000
log.cleaner.min.cleanable.ratio=0.5
log.cleaner.delete.retention.ms=86400000
log.index.size.max.bytes=10485760
log.index.interval.bytes=4096
log.delete.delay.ms=60000
log.flush.start.offset.checkpoint.interval.ms=60000

# Zookeeper Configuration
zookeeper.connect=zookeeper:2181
zookeeper.connection.timeout.ms=6000
zookeeper.session.timeout.ms=6000
zookeeper.ssl.client.enable=false
zookeeper.ssl.protocol=TLSv1.2

# Group Coordinator Configuration
group.initial.rebalance.delay.ms=0
group.initial.rebalance.max.retries=5
group.max.session.timeout.ms=300000
group.min.session.timeout.ms=6000

# Socket Server Configuration
socket.request.max.bytes=104857600
socket.receive.buffer.bytes=102400
socket.send.buffer.bytes=102400
socket.max.request.bytes=104857600
socket.max.bytes=1073741824
socket.request.max.bytes=104857600
connections.max.idle.ms=900000
queued.max.requests=500
num.replica.fetchers=4
replica.fetch.backoff.ms=1000
replica.fetch.max.bytes=1048576
replica.fetch.wait.max.ms=500
replica.fetch.min.bytes=1
replica.high.watermark.checkpoint.interval.ms=5000
replica.lag.time.max.ms=30000
replica.socket.receive.buffer.bytes=65536
replica.socket.send.buffer.bytes=65536
replica.socket.timeout.ms=30000
controller.socket.timeout.ms=30000
queued.max.requests=500
fetch.purgatory.purge.interval.requests=1000
producer.purgatory.purge.interval.requests=1000

# Compression Configuration
compression.type=producer
compression.codec=producer
compression.level=3

# Metrics Configuration
metric.reporters=io.confluent.metrics.reporter.ConfluentMetricsReporter
kafka.metrics.poll.interval.secs=10

# Confluent Platform Configuration
confluent.metrics.reporter.bootstrap.servers=kafka:9092
confluent.metrics.reporter.topic.replicas=1
confluent.metrics.reporter.topic.auto.create=true
confluent.metrics.reporter.enable=true
confluent.metrics.reporter.topic.name=_confluent-metrics
confluent.metrics.reporter.security.protocol=PLAINTEXT

# Security Configuration
security.inter.broker.protocol=PLAINTEXT
sasl.enabled.mechanisms=PLAIN
sasl.server.callback.handler.class=io.confluent.kafka.security.plain.PlainLoginModule
sasl.login.callback.handler.class=io.confluent.kafka.security.plain.PlainLoginModule
sasl.login.class=io.confluent.kafka.security.plain.PlainLoginModule
sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username="kafka" password="kafka123";
principal.builder.class=org.apache.kafka.common.security.auth.DefaultPrincipalBuilder

# Quotas
num.partitions=16
group.max.request.size=1048576
num.network.threads=8
num.io.threads=16
socket.send.buffer.bytes=102400
socket.receive.buffer.bytes=102400
socket.request.max.bytes=104857600
socket.max.bytes=1073741824
log.segment.bytes=1073741824
log.retention.bytes=10737418240
log.roll.jitter.hours=1
log.flush.interval.messages=9223372036854775807
log.flush.interval.ms=9223372036854775807
log.flush.scheduler.interval.ms=9223372036854775807
log.cleaner.io.buffer.size=1048576
log.cleaner.io.max.bytes.per.second=10485760
log.cleaner.backoff.ms=15000