---
# Secret template for erlmcp
# IMPORTANT: Create actual secrets using:
# kubectl create secret generic erlmcp-secrets \
#   --from-literal=erlang-cookie=$(openssl rand -base64 32) \
#   --from-literal=db-password=YOUR_DB_PASSWORD \
#   --from-literal=jwt-secret=YOUR_JWT_SECRET \
#   --namespace=erlmcp

apiVersion: v1
kind: Secret
metadata:
  name: erlmcp-secrets
  namespace: erlmcp
  labels:
    app: erlmcp
    component: secrets
  annotations:
    description: "Application secrets for erlmcp - DO NOT COMMIT"
type: Opaque
stringData:
  # Erlang distributed node cookie - MUST be the same across all nodes
  # Generate with: openssl rand -base64 32
  erlang-cookie: "CHANGE_ME_IN_PRODUCTION"

  # Database credentials
  db-name: "erlmcp"
  db-user: "erlmcp"
  db-password: "CHANGE_ME_IN_PRODUCTION"

  # JWT authentication
  jwt-secret: "CHANGE_ME_IN_PRODUCTION_USE_32_BYTES_OR_MORE"

  # OAuth2 (if enabled)
  oauth2-client-id: ""
  oauth2-client-secret: ""

---
# TLS Certificate Secret
# Use cert-manager or manually create with kubectl create secret tls
apiVersion: v1
kind: Secret
metadata:
  name: erlmcp-tls
  namespace: erlmcp
  labels:
    app: erlmcp
    component: tls
type: kubernetes.io/tls
# data:
#   # Replace with actual certificate and key (Base64 encoded)
#   tls.crt: <base64-encoded-cert>
#   tls.key: <base64-encoded-key>
#   # Optional CA certificate
#   ca.crt: <base64-encoded-ca>

---
# Docker registry pull secret
# Create with: kubectl create secret docker-registry erlmcp-pull-secret \
#   --docker-server=ghcr.io \
#   --docker-username=YOUR_USERNAME \
#   --docker-password=YOUR_TOKEN \
#   --namespace=erlmcp
# apiVersion: v1
# kind: Secret
# metadata:
#   name: erlmcp-pull-secret
#   namespace: erlmcp
#   labels:
#     app: erlmcp
#     component: registry
# type: kubernetes.io/dockerconfigjson
# data:
#   .dockerconfigjson: <base64-encoded-docker-config>
