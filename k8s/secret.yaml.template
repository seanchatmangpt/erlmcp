---
# Secret Template for erlmcp
# IMPORTANT: This is a TEMPLATE. DO NOT commit actual secrets to version control.
#
# Instructions:
# 1. Create secrets using:
#    kubectl create secret generic erlmcp-secrets \
#      --from-literal=db-name=erlmcp \
#      --from-literal=db-user=erlmcp_user \
#      --from-literal=db-password=$(openssl rand -base64 32) \
#      --from-literal=jwt-secret=$(openssl rand -base64 32) \
#      -n erlmcp --dry-run=client -o yaml > k8s/secret.yaml
#
# 2. Or use sealed-secrets for encrypted secrets:
#    kubectl create secret generic erlmcp-secrets \
#      --from-literal=db-name=erlmcp \
#      --from-literal=db-user=erlmcp_user \
#      --from-literal=db-password=YOUR_SECURE_PASSWORD \
#      --from-literal=jwt-secret=YOUR_JWT_SECRET \
#      -n erlmcp --dry-run=client -o yaml | \
#      kubeseal -f - > k8s/secret-sealed.yaml

apiVersion: v1
kind: Secret
metadata:
  name: erlmcp-secrets
  namespace: erlmcp
  labels:
    app: erlmcp
type: Opaque
stringData:
  # Database credentials
  db-name: erlmcp
  db-user: erlmcp_user
  db-password: "REPLACE_WITH_SECURE_PASSWORD"

  # JWT Secret for authentication
  jwt-secret: "REPLACE_WITH_JWT_SECRET"

  # OAuth2 credentials (if enabled)
  oauth2-client-id: "REPLACE_WITH_CLIENT_ID"
  oauth2-client-secret: "REPLACE_WITH_CLIENT_SECRET"

---
# TLS Certificate Secret
# Create using:
#   kubectl create secret tls erlmcp-tls \
#     --cert=certs/tls.crt \
#     --key=certs/tls.key \
#     -n erlmcp --dry-run=client -o yaml > k8s/secret-tls.yaml
apiVersion: v1
kind: Secret
metadata:
  name: erlmcp-tls
  namespace: erlmcp
  labels:
    app: erlmcp
type: kubernetes.io/tls
data:
  # Base64 encoded certificate and key
  # tls.crt: BASE64_ENCODED_CERT
  # tls.key: BASE64_ENCODED_KEY
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUR1RENDQXFBQ0NRQ3FpMkF5QzBsTTlUQU5CZ2txaGtpRzl3MEJBUXNGQURDb01Rc3dDUVlEVlFRR0V3SlYKVXpFUE1BMEdBMVVFQ0JNR1VtOXZkQzFETVJBd0RnWURWUVFIRXdkdFpYUmxjaTFUTVJzd0dRWURWUVFLRXhKSApWVlZWSEJ5YldGdVpYSmhjMmxqTVIwd0dRWURWUVFMRXhaaGJIQmxibU5vYVdabElGUnlkWE4wSUVkaWIyOWsKSUVOd2NDNHhDekFKQmdOVkJBSVRBazAxTVFzd0NRWURWUVFIRXJKV1RUSXdHUVlEVlFRS0V4TkhhM1Y1SUZKUApVMlZ5ZG1salpTQkZZMmR2YjI5a0lFUnZZMjlrTVJzd0dRWURWUVFMRXhKaGJIQmxibU5vYVdabElGUnlkWE4wCklFZGliMjlrTVJvd0dBWURWUVFERXhGdGRHOXlaRzluWVc1Z2RtOTJiMjBwTUlJQklqQU5CZ2txaGtpRzl3MEIKQVFFRG9RUCTNQU25aY1lsTVptRkZNVkJXZWxCYWRYSktNREZyYUUxQ1FVUkdUR053UkRGUlNVUjVibFp3YkZWWApSbkI1YlhsVGJGWmtNbVF4TW5KWk1URkJkSE53UXk0eENqQUtCZ2dxaGtqT1BRUURRQU5nQURCbEJqQUIzSGh5CkNseGZ6QUhIZVFRMWo4STVZRwNqcmdyDQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
  tls.key: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JR0hEQmdFcUJna3Foa2lHOXcwQkJ3RUZCRzh3Q3dZSktvWklodmNOQVFjQkZRY0RCQklCRVZSdFd0UW5nWnkKVFRzRFoyeHFNaTB0TVEySE1ERnJhRTFDUVVSR1RETk9YMkY0YVROMWRHRkNSRHgxTWxGV2VsQm5VMlZ5ZG1sRAoK
