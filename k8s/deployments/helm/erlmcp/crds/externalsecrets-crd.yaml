# External Secrets Operator CRDs for erlmcp v3
# Source: https://github.com/external-secrets/external-secrets

---
# ExternalSecret
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: externalsecrets.external-secrets.io
  annotations:
    controller-gen.kubebuilder.io/version: v0.14.0
spec:
  group: external-secrets.io
  names:
    kind: ExternalSecret
    listKind: ExternalSecretList
    plural: externalsecrets
    shortNames:
    - es
    singular: externalsecret
  scope: Namespaced
  versions:
  - name: v1beta1
    schema:
      openAPIV3Schema:
        description: ExternalSecret is a Spec for a ExternalSecret resource
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation of an object.'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this object represents.'
            type: string
          metadata:
            type: object
          spec:
            description: Spec defines the ExternalSecret specification
            properties:
              data:
                description: Data defines the connection between the Kubernetes Secret keys and the Provider data
                items:
                  properties:
                    match:
                      description: Match is conditional mapping
                      properties:
                        secretKey:
                          type: string
                      type: object
                    remoteRef:
                      description: RemoteRef points to the remote secret
                      properties:
                        conversionStrategy:
                          type: string
                        key:
                          type: string
                        property:
                          type: string
                        version:
                          type: string
                      type: object
                    secretKey:
                      description: SecretKey is the key to use in the Kubernetes Secret
                      type: string
                  type: object
                type: array
              dataFrom:
                description: DataFrom is used to fetch all properties from a specific Provider data
                properties:
                  all:
                    description: All fetches all properties
                    type: boolean
                  extract:
                    description: Extract fetches specific keys
                    items:
                      properties:
                        conversionStrategy:
                          type: string
                        decodingStrategy:
                          type: string
                        key:
                          type: string
                        property:
                          type: string
                      type: object
                    type: array
                  find:
                    description: Find finds properties based on matching criteria
                    properties:
                      conversionStrategy:
                        type: string
                      decodingStrategy:
                        type: string
                      name:
                        type: string
                      transform:
                        additionalProperties:
                          type: string
                        type: object
                      type:
                        type: string
                    type: object
                type: object
              refreshInterval:
                description: RefreshInterval is the amount of time between refreshes
                type: string
              secretStoreRef:
                description: SecretStoreRef defines which SecretStore to use
                properties:
                  kind:
                    default: SecretStore
                    description: Kind of the SecretStore resource
                    enum:
                    - SecretStore
                    - ClusterSecretStore
                    type: string
                  name:
                    description: Name of the SecretStore resource
                    type: string
                required:
                - name
                type: object
              target:
                description: Target defines the Kubernetes Secret to be created
                properties:
                  creationPolicy:
                    default: Owner
                    description: CreationPolicy defines the creation policy
                    enum:
                    - Owner
                    - Merge
                    - None
                    type: string
                  deletionPolicy:
                    default: Retain
                    description: DeletionPolicy defines the deletion policy
                    enum:
                    - Retain
                    - Delete
                    type: string
                  immutable:
                    description: Immutable defines if the secret is immutable
                    type: boolean
                  name:
                    description: Name is the name of the Kubernetes Secret
                    type: string
                  template:
                    description: Template defines the template for the secret
                    properties:
                      data:
                        additionalProperties:
                          type: string
                        type: object
                      metadata:
                        additionalProperties:
                          type: string
                        type: object
                      type:
                        type: string
                    type: object
                type: object
            required:
            - secretStoreRef
            type: object
          status:
            description: Status defines the observed state of ExternalSecret
            properties:
              conditions:
                items:
                  properties:
                    lastTransitionTime:
                      description: Last time the condition transitioned
                      format: date-time
                      type: string
                    message:
                      description: Human-readable message indicating details
                      type: string
                    reason:
                      description: Reason for the condition's last transition
                      type: string
                    status:
                      description: Status of the condition
                      type: string
                    type:
                      description: Type of condition
                      type: string
                  type: object
                type: array
              externalSecretName:
                description: ExternalSecretName is the name of the ExternalSecret
                type: string
              syncTime:
                description: SyncTime is the time of last synchronization
                format: date-time
                type: string
              timestamp:
                description: Timestamp is the timestamp of last update
                format: date-time
                type: string
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []

---
# SecretStore
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: secretstores.external-secrets.io
spec:
  group: external-secrets.io
  names:
    kind: SecretStore
    listKind: SecretStoreList
    plural: secretstores
    singular: secretstore
  scope: Namespaced
  versions:
  - name: v1beta1
    schema:
      openAPIV3Schema:
        properties:
          apiVersion:
            type: string
          kind:
            type: string
          metadata:
            type: object
          spec:
            properties:
              provider:
                description: Provider configures the provider for the store
                properties:
                  aws:
                    properties:
                      auth:
                        properties:
                          jwt:
                            properties:
                              serviceAccountRef:
                                properties:
                                  name:
                                    type: string
                                required:
                                - name
                                type: object
                        type: object
                      region:
                        type: string
                      role:
                        type: string
                      service:
                        enum:
                        - SecretsManager
                        - ParameterStore
                        type: string
                    type: object
                  azurekv:
                    properties:
                      auth:
                        properties:
                          managedIdentity:
                            properties:
                              identityID:
                                type: string
                            type: object
                          servicePrincipal:
                            properties:
                              clientID:
                                type: string
                              clientSecret:
                                properties:
                              name:
                                type: string
                              namespace:
                                type: string
                            type: object
                        type: object
                      tenantId:
                        type: string
                      vaultUrl:
                        type: string
                    type: object
                  gcpsm:
                    properties:
                      auth:
                        properties:
                          workloadIdentity:
                            properties:
                              clusterLocation:
                                type: string
                              clusterName:
                                type: string
                              serviceAccountRef:
                                properties:
                                  name:
                                    type: string
                                required:
                                - name
                                type: object
                            type: object
                        type: object
                      project:
                        type: string
                    type: object
                  vault:
                    properties:
                      auth:
                        properties:
                          kubernetes:
                            properties:
                              mountPath:
                                type: string
                              role:
                                type: string
                              secretRef:
                                properties:
                                  name:
                                    type: string
                                  namespace:
                                    type: string
                                type: object
                            type: object
                          token:
                            properties:
                              secretRef:
                                properties:
                                  key:
                                    type: string
                                  name:
                                    type: string
                                type: object
                            type: object
                        type: object
                      caCert:
                        type: string
                      caProvider:
                        type: string
                      namespace:
                        type: string
                      path:
                        type: string
                      server:
                        type: string
                      version:
                        type: string
                    type: object
                type: object
            required:
            - provider
            type: object
        type: object
    served: true
    storage: true
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []

---
# ClusterSecretStore
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: clustersecretstores.external-secrets.io
spec:
  group: external-secrets.io
  names:
    kind: ClusterSecretStore
    listKind: ClusterSecretStoreList
    plural: clustersecretstores
    singular: clustersecretstore
  scope: Cluster
  versions:
  - name: v1beta1
    schema:
      openAPIV3Schema:
        properties:
          apiVersion:
            type: string
          kind:
            type: string
          metadata:
            type: object
          spec:
            properties:
              provider:
                description: Provider configures the provider for the store
                type: object
            required:
            - provider
            type: object
        type: object
    served: true
    storage: true
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
