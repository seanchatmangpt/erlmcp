# ============================================================================
# Development Environment Variables Template for erlmcp v3
# ============================================================================
# Copy this file to .env.dev and fill in the actual values
# DO NOT commit .env.dev to version control
#
# Usage:
#   cp .env.dev.template .env.dev
#   # Edit .env.dev with your local development settings
#   docker compose -f docker-compose.yml -f docker-compose.override.dev.yml --env-file .env.dev up

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
ERLMCP_ENV=development
ERLMCP_VERSION=3.0.0
ERLMCP_IMAGE=erlmcp:dev

# Node naming for local development
ERLMCP_NODE_NAME=erlmcp_dev@127.0.0.1

# ============================================================================
# ERLANG/OTP DISTRIBUTION
# ============================================================================
# For development: use a simple cookie (change if working in a team)
# Generate with: openssl rand -base64 24
ERLANG_COOKIE=change_me_dev_cookie_12345678

# Distribution settings
ERL_DIST_PORT=9110
ERL_DIST_PORT_MIN=9110
ERL_DIST_PORT_MAX=9210

# ============================================================================
# SERVER PORTS
# ============================================================================
ERLMCP_PORT=8080              # HTTP API
METRICS_PORT=9100             # Prometheus metrics
HEALTH_PORT=9090              # Health check endpoint

# ============================================================================
# LOGGING
# ============================================================================
ERLMCP_LOG_LEVEL=debug

# ============================================================================
# DATABASE (Optional - PostgreSQL)
# ============================================================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=erlmcp_dev
DB_USER=erlmcp
DB_PASSWORD=dev_password_change_me
DB_SSL_MODE=disable
DB_POOL_SIZE=5

# ============================================================================
# REDIS (Optional - for caching)
# ============================================================================
REDIS_ENABLED=false
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# ============================================================================
# OPEN TELEMETRY (Optional - disabled in dev by default)
# ============================================================================
OTEL_ENABLED=false
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=erlmcp-dev
OTEL_SAMPLING_RATE=1.0

# ============================================================================
# SECURITY (Permissive in development)
# ============================================================================
JWT_SECRET_KEY=dev_secret_key_change_me_please
SESSION_TIMEOUT_SECS=3600
ALLOW_INSECURE_HTTP=true
TLS_ENABLED=false

# ============================================================================
# FEATURE FLAGS
# ============================================================================
FEATURE_RATE_LIMITING=false
FEATURE_ASYNC_PROCESSING=false
FEATURE_WEBHOOK_DELIVERY=false
FEATURE_EXPERIMENTAL=true

# ============================================================================
# DEBUG OPTIONS
# ============================================================================
DEBUG_SQL_QUERIES=true
DEBUG_HEADERS=true
ENABLE_PROFILING=true
ENABLE_PPROF=true
ENABLE_DEBUG_ENDPOINTS=true

# ============================================================================
# RESOURCE LIMITS (Development - low limits)
# ============================================================================
ERLMCP_CPU_LIMIT=1.0
ERLMCP_MEMORY_LIMIT=2G
ERLMCP_CPU_RESERVATION=0.5
ERLMCP_MEMORY_RESERVATION=1G
ERLMCP_PIDS_LIMIT=2048

# ============================================================================
# ERLANG VM SETTINGS
# ============================================================================
ERL_MAX_PORTS=65536
ERL_MAX_ETS_TABLES=50000
ERL_FULLSWEEP_AFTER=0

# ============================================================================
# MONITORING (Optional)
# ============================================================================
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
GRAFANA_PASSWORD=admin

# ============================================================================
# SERVICE DISCOVERY (Disabled in dev)
# ============================================================================
SERVICE_MESH_ENABLED=false
CONSUL_ENABLED=false
ISTIO_ENABLED=false

# ============================================================================
# CACHE SETTINGS
# ============================================================================
CACHE_TTL_SECS=300
CACHE_MAX_SIZE=1000

# ============================================================================
# DEVELOPMENT ALIASES
# ============================================================================
# For quick access to common development tasks
REBAR3=rebar3
CT_RUN=ct_run
