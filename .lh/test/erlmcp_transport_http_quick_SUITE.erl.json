{
    "sourceFile": "test/erlmcp_transport_http_quick_SUITE.erl",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1756190131040,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1756190592770,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,40 +5,53 @@\n \n -export([all/0, init_per_suite/1, end_per_suite/1]).\n -export([http_start_test_mode/1, http_info_shape/1, http_transport_calls/1]).\n \n-all() -> [http_start_test_mode, http_info_shape, http_transport_calls].\n+all() ->\n+  [http_start_test_mode, http_info_shape, http_transport_calls].\n \n init_per_suite(Config) ->\n-    case whereis(erlmcp_transport_sup) of\n-        undefined -> {ok, _} = erlmcp_transport_sup:start_link();\n-        _ -> ok\n-    end,\n-    Config.\n+  case whereis(erlmcp_transport_sup) of\n+    undefined ->\n+      {ok, _} = erlmcp_transport_sup:start_link();\n+    _ ->\n+      ok\n+  end,\n+  Config.\n \n-end_per_suite(_Config) -> ok.\n+end_per_suite(_Config) ->\n+  ok.\n \n %% Start HTTP in test_mode and ensure pid\n http_start_test_mode(_Config) ->\n-    TId = http_qw_1,\n-    {ok, Pid} = erlmcp_transport_sup:start_child(TId, http, #{url => \"http://localhost/\", test_mode => true}),\n-    ?assert(is_pid(Pid)),\n-    ok = erlmcp_transport_sup:stop_child(TId).\n+  TId = http_qw_1,\n+  {ok, Pid} =\n+    erlmcp_transport_sup:start_child(TId,\n+                                     http,\n+                                     #{url => \"http://localhost/\", test_mode => true}),\n+  ?assert(is_pid(Pid)),\n+  ok = erlmcp_transport_sup:stop_child(TId).\n \n %% Verify get_info shape in test mode\n http_info_shape(_Config) ->\n-    TId = http_qw_2,\n-    {ok, Pid} = erlmcp_transport_sup:start_child(TId, http, #{url => \"http://localhost/\", test_mode => true}),\n-    Info = erlmcp_transport_http:get_info(Pid),\n-    ?assertEqual(http, maps:get(type, Info, undefined)),\n-    ?assert(maps:is_key(status, Info)),\n-    ?assert(maps:is_key(statistics, Info)),\n-    ok = erlmcp_transport_sup:stop_child(TId).\n+  TId = http_qw_2,\n+  {ok, Pid} =\n+    erlmcp_transport_sup:start_child(TId,\n+                                     http,\n+                                     #{url => \"http://localhost/\", test_mode => true}),\n+  Info = erlmcp_transport_http:get_info(Pid),\n+  ?assertEqual(http, maps:get(type, Info, undefined)),\n+  ?assert(maps:is_key(status, Info)),\n+  ?assert(maps:is_key(statistics, Info)),\n+  ok = erlmcp_transport_sup:stop_child(TId).\n \n %% Exercise transport calls\n http_transport_calls(_Config) ->\n-    TId = http_qw_3,\n-    {ok, Pid} = erlmcp_transport_sup:start_child(TId, http, #{url => \"http://localhost/\", test_mode => true}),\n-    {ok, Url} = gen_server:call(Pid, {transport_call, get_url}),\n-    ?assertEqual(\"http://localhost/\", Url),\n-    {error, unknown_request} = gen_server:call(Pid, {transport_call, unknown}),\n-    ok = erlmcp_transport_sup:stop_child(TId).\n+  TId = http_qw_3,\n+  {ok, Pid} =\n+    erlmcp_transport_sup:start_child(TId,\n+                                     http,\n+                                     #{url => \"http://localhost/\", test_mode => true}),\n+  {ok, Url} = gen_server:call(Pid, {transport_call, get_url}),\n+  ?assertEqual(\"http://localhost/\", Url),\n+  {error, unknown_request} = gen_server:call(Pid, {transport_call, unknown}),\n+  ok = erlmcp_transport_sup:stop_child(TId).\n"
                }
            ],
            "date": 1756190131040,
            "name": "Commit-0",
            "content": "-module(erlmcp_transport_http_quick_SUITE).\n\n-include_lib(\"common_test/include/ct.hrl\").\n-include_lib(\"eunit/include/eunit.hrl\").\n\n-export([all/0, init_per_suite/1, end_per_suite/1]).\n-export([http_start_test_mode/1, http_info_shape/1, http_transport_calls/1]).\n\nall() -> [http_start_test_mode, http_info_shape, http_transport_calls].\n\ninit_per_suite(Config) ->\n    case whereis(erlmcp_transport_sup) of\n        undefined -> {ok, _} = erlmcp_transport_sup:start_link();\n        _ -> ok\n    end,\n    Config.\n\nend_per_suite(_Config) -> ok.\n\n%% Start HTTP in test_mode and ensure pid\nhttp_start_test_mode(_Config) ->\n    TId = http_qw_1,\n    {ok, Pid} = erlmcp_transport_sup:start_child(TId, http, #{url => \"http://localhost/\", test_mode => true}),\n    ?assert(is_pid(Pid)),\n    ok = erlmcp_transport_sup:stop_child(TId).\n\n%% Verify get_info shape in test mode\nhttp_info_shape(_Config) ->\n    TId = http_qw_2,\n    {ok, Pid} = erlmcp_transport_sup:start_child(TId, http, #{url => \"http://localhost/\", test_mode => true}),\n    Info = erlmcp_transport_http:get_info(Pid),\n    ?assertEqual(http, maps:get(type, Info, undefined)),\n    ?assert(maps:is_key(status, Info)),\n    ?assert(maps:is_key(statistics, Info)),\n    ok = erlmcp_transport_sup:stop_child(TId).\n\n%% Exercise transport calls\nhttp_transport_calls(_Config) ->\n    TId = http_qw_3,\n    {ok, Pid} = erlmcp_transport_sup:start_child(TId, http, #{url => \"http://localhost/\", test_mode => true}),\n    {ok, Url} = gen_server:call(Pid, {transport_call, get_url}),\n    ?assertEqual(\"http://localhost/\", Url),\n    {error, unknown_request} = gen_server:call(Pid, {transport_call, unknown}),\n    ok = erlmcp_transport_sup:stop_child(TId).\n"
        }
    ]
}