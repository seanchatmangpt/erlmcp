<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FMEA Security Dashboard - erlmcp</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #0d1117;
            color: #c9d1d9;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            background: linear-gradient(135deg, #1f6feb 0%, #0969da 100%);
            padding: 30px;
            border-radius: 8px;
            margin-bottom: 30px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        h1 {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 14px;
            opacity: 0.9;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: #161b22;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #30363d;
        }

        .stat-label {
            font-size: 12px;
            text-transform: uppercase;
            color: #8b949e;
            margin-bottom: 8px;
        }

        .stat-value {
            font-size: 36px;
            font-weight: bold;
            margin-bottom: 4px;
        }

        .stat-value.green { color: #3fb950; }
        .stat-value.yellow { color: #d29922; }
        .stat-value.red { color: #f85149; }

        .gate-decision {
            background: #238636;
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            font-size: 18px;
            font-weight: bold;
            text-align: center;
        }

        .gate-decision.failed {
            background: #da3633;
        }

        .fm-grid {
            display: grid;
            gap: 20px;
        }

        .fm-card {
            background: #161b22;
            border: 1px solid #30363d;
            border-radius: 8px;
            padding: 20px;
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
        }

        .fm-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.4);
        }

        .fm-card.closed {
            border-left: 4px solid #3fb950;
        }

        .fm-card.partial {
            border-left: 4px solid #d29922;
        }

        .fm-card.blocked {
            border-left: 4px solid #f85149;
        }

        .fm-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 15px;
        }

        .fm-id {
            font-size: 14px;
            font-weight: bold;
            color: #58a6ff;
        }

        .fm-status {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }

        .fm-status.closed {
            background: #238636;
            color: white;
        }

        .fm-status.partial {
            background: #9e6a03;
            color: white;
        }

        .fm-status.blocked {
            background: #da3633;
            color: white;
        }

        .fm-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .fm-meta {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .fm-meta-item {
            font-size: 13px;
        }

        .fm-meta-label {
            color: #8b949e;
            margin-right: 5px;
        }

        .rpn-badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: bold;
        }

        .rpn-critical { background: #f85149; color: white; }
        .rpn-high { background: #d29922; color: white; }
        .rpn-medium { background: #58a6ff; color: white; }

        .fm-details {
            display: none;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #30363d;
        }

        .fm-details.active {
            display: block;
        }

        .detail-section {
            margin-bottom: 15px;
        }

        .detail-title {
            font-size: 13px;
            text-transform: uppercase;
            color: #8b949e;
            margin-bottom: 8px;
        }

        .detail-content {
            font-size: 14px;
            line-height: 1.6;
        }

        .module-link {
            color: #58a6ff;
            text-decoration: none;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 12px;
        }

        .module-link:hover {
            text-decoration: underline;
        }

        .test-count {
            color: #3fb950;
            font-weight: bold;
        }

        .filters {
            background: #161b22;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 8px 16px;
            border: 1px solid #30363d;
            background: #21262d;
            color: #c9d1d9;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }

        .filter-btn:hover {
            background: #30363d;
        }

        .filter-btn.active {
            background: #1f6feb;
            border-color: #1f6feb;
            color: white;
        }

        footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #30363d;
            text-align: center;
            color: #8b949e;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>FMEA Security Dashboard</h1>
            <div class="subtitle">
                erlmcp Security Economics Framework | Generated: 2026-02-01 | Version 1.0
            </div>
        </header>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-label">Total Failure Modes</div>
                <div class="stat-value">12</div>
                <div class="subtitle">Security-critical modes</div>
            </div>

            <div class="stat-card">
                <div class="stat-label">Fully Closed</div>
                <div class="stat-value green">10</div>
                <div class="subtitle">Tests passing (83%)</div>
            </div>

            <div class="stat-card">
                <div class="stat-label">Needs Verification</div>
                <div class="stat-value yellow">2</div>
                <div class="subtitle">CI gates pending</div>
            </div>

            <div class="stat-card">
                <div class="stat-label">Blocked</div>
                <div class="stat-value green">0</div>
                <div class="subtitle">No blockers</div>
            </div>

            <div class="stat-card">
                <div class="stat-label">Critical FMs (RPN ≥ 250)</div>
                <div class="stat-value">8</div>
                <div class="subtitle">87.5% closed (7/8)</div>
            </div>

            <div class="stat-card">
                <div class="stat-label">Max RPN</div>
                <div class="stat-value red">324</div>
                <div class="subtitle">FM-05 Tool Injection</div>
            </div>
        </div>

        <div class="gate-decision">
            ✅ FMEA GATE PASSED - READY FOR MERGE
        </div>

        <div class="filters">
            <button class="filter-btn active" onclick="filterFMs('all')">All (12)</button>
            <button class="filter-btn" onclick="filterFMs('closed')">Closed (10)</button>
            <button class="filter-btn" onclick="filterFMs('partial')">Verify (2)</button>
            <button class="filter-btn" onclick="filterFMs('critical')">Critical RPN ≥ 250 (8)</button>
        </div>

        <div class="fm-grid" id="fmGrid">
            <!-- FM-05: Highest RPN -->
            <div class="fm-card closed" data-status="closed" data-rpn="324">
                <div class="fm-header">
                    <div class="fm-id">FM-05</div>
                    <div class="fm-status closed">✅ CLOSED</div>
                </div>
                <div class="fm-title">Tool Call Injection (Frame Confusion)</div>
                <div class="fm-meta">
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">RPN:</span>
                        <span class="rpn-badge rpn-critical">324</span>
                    </div>
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">Priority:</span>
                        <span>CRITICAL</span>
                    </div>
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">Tests:</span>
                        <span class="test-count">632 lines</span>
                    </div>
                </div>
                <div class="fm-details">
                    <div class="detail-section">
                        <div class="detail-title">Threat</div>
                        <div class="detail-content">Crafted malformed JSON-RPC bypasses validation → arbitrary method invocation</div>
                    </div>
                    <div class="detail-section">
                        <div class="detail-title">Control Modules</div>
                        <div class="detail-content">
                            <a href="#" class="module-link">erlmcp_message_parser.erl</a><br>
                            <a href="#" class="module-link">erlmcp_json_rpc.erl</a><br>
                            <a href="#" class="module-link">erlmcp_protocol_validator.erl</a>
                        </div>
                    </div>
                    <div class="detail-section">
                        <div class="detail-title">Test Suites</div>
                        <div class="detail-content">
                            <a href="#" class="module-link">erlmcp_protocol_validator_tests.erl</a> (632 lines)
                        </div>
                    </div>
                </div>
            </div>

            <!-- FM-02 -->
            <div class="fm-card closed" data-status="closed" data-rpn="300">
                <div class="fm-header">
                    <div class="fm-id">FM-02</div>
                    <div class="fm-status closed">✅ CLOSED</div>
                </div>
                <div class="fm-title">Session Fixation / ID Hijack</div>
                <div class="fm-meta">
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">RPN:</span>
                        <span class="rpn-badge rpn-critical">300</span>
                    </div>
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">Priority:</span>
                        <span>CRITICAL</span>
                    </div>
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">Tests:</span>
                        <span class="test-count">Comprehensive</span>
                    </div>
                </div>
                <div class="fm-details">
                    <div class="detail-section">
                        <div class="detail-title">Threat</div>
                        <div class="detail-content">Session hijacking → notification theft, unauthorized calls</div>
                    </div>
                    <div class="detail-section">
                        <div class="detail-title">Control Modules</div>
                        <div class="detail-content">
                            <a href="#" class="module-link">erlmcp_session_manager.erl</a><br>
                            <a href="#" class="module-link">erlmcp_session_ets.erl</a><br>
                            <a href="#" class="module-link">erlmcp_http_header_validator.erl</a>
                        </div>
                    </div>
                    <div class="detail-section">
                        <div class="detail-title">Test Suites</div>
                        <div class="detail-content">
                            <a href="#" class="module-link">erlmcp_session_manager_tests.erl</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FM-03 -->
            <div class="fm-card closed" data-status="closed" data-rpn="280">
                <div class="fm-header">
                    <div class="fm-id">FM-03</div>
                    <div class="fm-status closed">✅ CLOSED</div>
                </div>
                <div class="fm-title">SSE Resume Replay Cross-Client</div>
                <div class="fm-meta">
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">RPN:</span>
                        <span class="rpn-badge rpn-critical">280</span>
                    </div>
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">Priority:</span>
                        <span>CRITICAL</span>
                    </div>
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">Tests:</span>
                        <span class="test-count">19+ tests</span>
                    </div>
                </div>
                <div class="fm-details">
                    <div class="detail-section">
                        <div class="detail-title">Threat</div>
                        <div class="detail-content">Cross-client data leak via Last-Event-ID replay</div>
                    </div>
                    <div class="detail-section">
                        <div class="detail-title">Control Modules</div>
                        <div class="detail-content">
                            <a href="#" class="module-link">erlmcp_sse_event_store.erl</a><br>
                            <a href="#" class="module-link">erlmcp_transport_sse_manager.erl</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FM-10 -->
            <div class="fm-card closed" data-status="closed" data-rpn="280">
                <div class="fm-header">
                    <div class="fm-id">FM-10</div>
                    <div class="fm-status closed">✅ CLOSED</div>
                </div>
                <div class="fm-title">Task Result Cross-Bleed</div>
                <div class="fm-meta">
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">RPN:</span>
                        <span class="rpn-badge rpn-critical">280</span>
                    </div>
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">Priority:</span>
                        <span>CRITICAL</span>
                    </div>
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">Tests:</span>
                        <span class="test-count">Edge cases</span>
                    </div>
                </div>
                <div class="fm-details">
                    <div class="detail-section">
                        <div class="detail-title">Threat</div>
                        <div class="detail-content">User A observes User B's task results</div>
                    </div>
                    <div class="detail-section">
                        <div class="detail-title">Control Modules</div>
                        <div class="detail-content">
                            <a href="#" class="module-link">erlmcp_tasks.erl</a><br>
                            <a href="#" class="module-link">erlmcp_task_runner.erl</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FM-08 -->
            <div class="fm-card partial" data-status="partial" data-rpn="270">
                <div class="fm-header">
                    <div class="fm-id">FM-08</div>
                    <div class="fm-status partial">⚠️ VERIFY</div>
                </div>
                <div class="fm-title">Logging Leaks Secrets</div>
                <div class="fm-meta">
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">RPN:</span>
                        <span class="rpn-badge rpn-critical">270</span>
                    </div>
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">Priority:</span>
                        <span>CRITICAL</span>
                    </div>
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">Status:</span>
                        <span>CI gate needs verification</span>
                    </div>
                </div>
                <div class="fm-details">
                    <div class="detail-section">
                        <div class="detail-title">Threat</div>
                        <div class="detail-content">Credential theft via log exfiltration</div>
                    </div>
                    <div class="detail-section">
                        <div class="detail-title">Control Modules</div>
                        <div class="detail-content">
                            <a href="#" class="module-link">erlmcp_logging.erl</a>
                        </div>
                    </div>
                    <div class="detail-section">
                        <div class="detail-title">Action Required</div>
                        <div class="detail-content" style="color: #d29922;">
                            Verify CI secret scanning gate is active
                        </div>
                    </div>
                </div>
            </div>

            <!-- FM-04 -->
            <div class="fm-card closed" data-status="closed" data-rpn="250">
                <div class="fm-header">
                    <div class="fm-id">FM-04</div>
                    <div class="fm-status closed">✅ CLOSED</div>
                </div>
                <div class="fm-title">Auth Bypass / Token Confusion</div>
                <div class="fm-meta">
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">RPN:</span>
                        <span class="rpn-badge rpn-critical">250</span>
                    </div>
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">Priority:</span>
                        <span>CRITICAL</span>
                    </div>
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">Tests:</span>
                        <span class="test-count">100KB+</span>
                    </div>
                </div>
                <div class="fm-details">
                    <div class="detail-section">
                        <div class="detail-title">Threat</div>
                        <div class="detail-content">Privilege escalation via auth bypass</div>
                    </div>
                    <div class="detail-section">
                        <div class="detail-title">Control Modules</div>
                        <div class="detail-content">
                            <a href="#" class="module-link">erlmcp_auth.erl</a><br>
                            <a href="#" class="module-link">erlmcp_auth_jwt.erl</a><br>
                            <a href="#" class="module-link">erlmcp_auth_oauth.erl</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FM-06 -->
            <div class="fm-card closed" data-status="closed" data-rpn="240">
                <div class="fm-header">
                    <div class="fm-id">FM-06</div>
                    <div class="fm-status closed">✅ CLOSED</div>
                </div>
                <div class="fm-title">Header Parsing / Protocol Downgrade</div>
                <div class="fm-meta">
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">RPN:</span>
                        <span class="rpn-badge rpn-high">240</span>
                    </div>
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">Priority:</span>
                        <span>HIGH</span>
                    </div>
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">Tests:</span>
                        <span class="test-count">50+ tests</span>
                    </div>
                </div>
                <div class="fm-details">
                    <div class="detail-section">
                        <div class="detail-title">Threat</div>
                        <div class="detail-content">Version downgrade attack bypasses security checks</div>
                    </div>
                    <div class="detail-section">
                        <div class="detail-title">Control Modules</div>
                        <div class="detail-content">
                            <a href="#" class="module-link">erlmcp_http_header_validator.erl</a> (318 lines)
                        </div>
                    </div>
                </div>
            </div>

            <!-- FM-07 -->
            <div class="fm-card closed" data-status="closed" data-rpn="240">
                <div class="fm-header">
                    <div class="fm-id">FM-07</div>
                    <div class="fm-status closed">✅ CLOSED</div>
                </div>
                <div class="fm-title">Path Traversal / URI Canonicalization</div>
                <div class="fm-meta">
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">RPN:</span>
                        <span class="rpn-badge rpn-high">240</span>
                    </div>
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">Priority:</span>
                        <span>CRITICAL</span>
                    </div>
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">Tests:</span>
                        <span class="test-count">Comprehensive</span>
                    </div>
                </div>
                <div class="fm-details">
                    <div class="detail-section">
                        <div class="detail-title">Threat</div>
                        <div class="detail-content">Arbitrary file read via path traversal</div>
                    </div>
                    <div class="detail-section">
                        <div class="detail-title">Control Modules</div>
                        <div class="detail-content">
                            <a href="#" class="module-link">erlmcp_path_canonicalizer.erl</a><br>
                            <a href="#" class="module-link">erlmcp_uri_validator.erl</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FM-12 -->
            <div class="fm-card partial" data-status="partial" data-rpn="240">
                <div class="fm-header">
                    <div class="fm-id">FM-12</div>
                    <div class="fm-status partial">⚠️ VERIFY</div>
                </div>
                <div class="fm-title">Supply-Chain / CVE Exposure</div>
                <div class="fm-meta">
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">RPN:</span>
                        <span class="rpn-badge rpn-high">240</span>
                    </div>
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">Priority:</span>
                        <span>CRITICAL</span>
                    </div>
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">Status:</span>
                        <span>CI workflow needs verification</span>
                    </div>
                </div>
                <div class="fm-details">
                    <div class="detail-section">
                        <div class="detail-title">Threat</div>
                        <div class="detail-content">Compromised dependency enables RCE</div>
                    </div>
                    <div class="detail-section">
                        <div class="detail-title">Control</div>
                        <div class="detail-content">
                            CI/CD automated dependency scanning
                        </div>
                    </div>
                    <div class="detail-section">
                        <div class="detail-title">Action Required</div>
                        <div class="detail-content" style="color: #d29922;">
                            Verify dependency audit CI workflow is active
                        </div>
                    </div>
                </div>
            </div>

            <!-- FM-09 -->
            <div class="fm-card closed" data-status="closed" data-rpn="224">
                <div class="fm-header">
                    <div class="fm-id">FM-09</div>
                    <div class="fm-status closed">✅ CLOSED</div>
                </div>
                <div class="fm-title">DoS / Memory Exhaustion</div>
                <div class="fm-meta">
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">RPN:</span>
                        <span class="rpn-badge rpn-high">224</span>
                    </div>
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">Priority:</span>
                        <span>HIGH</span>
                    </div>
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">Tests:</span>
                        <span class="test-count">Destructive</span>
                    </div>
                </div>
                <div class="fm-details">
                    <div class="detail-section">
                        <div class="detail-title">Threat</div>
                        <div class="detail-content">Service collapse via memory/mailbox exhaustion</div>
                    </div>
                    <div class="detail-section">
                        <div class="detail-title">Control Modules</div>
                        <div class="detail-content">
                            <a href="#" class="module-link">erlmcp_memory_guard.erl</a><br>
                            <a href="#" class="module-link">erlmcp_connection_limiter.erl</a>
                        </div>
                    </div>
                    <div class="detail-section">
                        <div class="detail-title">Test Suites</div>
                        <div class="detail-content">
                            <a href="#" class="module-link">mailbox_bomb_SUITE.erl</a> (destructive)
                        </div>
                    </div>
                </div>
            </div>

            <!-- FM-01 -->
            <div class="fm-card closed" data-status="closed" data-rpn="216">
                <div class="fm-header">
                    <div class="fm-id">FM-01</div>
                    <div class="fm-status closed">✅ CLOSED</div>
                </div>
                <div class="fm-title">Origin Validation Bypass (DNS Rebinding)</div>
                <div class="fm-meta">
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">RPN:</span>
                        <span class="rpn-badge rpn-high">216</span>
                    </div>
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">Priority:</span>
                        <span>CRITICAL</span>
                    </div>
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">Tests:</span>
                        <span class="test-count">25+ tests</span>
                    </div>
                </div>
                <div class="fm-details">
                    <div class="detail-section">
                        <div class="detail-title">Threat</div>
                        <div class="detail-content">DNS rebinding enables cross-origin attacks</div>
                    </div>
                    <div class="detail-section">
                        <div class="detail-title">Control Modules</div>
                        <div class="detail-content">
                            <a href="#" class="module-link">erlmcp_origin_validator.erl</a> (280 lines)
                        </div>
                    </div>
                </div>
            </div>

            <!-- FM-11 -->
            <div class="fm-card closed" data-status="closed" data-rpn="216">
                <div class="fm-header">
                    <div class="fm-id">FM-11</div>
                    <div class="fm-status closed">✅ EXPERIMENTAL</div>
                </div>
                <div class="fm-title">WebSocket Fragmentation</div>
                <div class="fm-meta">
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">RPN:</span>
                        <span class="rpn-badge rpn-high">216</span>
                    </div>
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">Priority:</span>
                        <span>HIGH</span>
                    </div>
                    <div class="fm-meta-item">
                        <span class="fm-meta-label">Status:</span>
                        <span>Experimental</span>
                    </div>
                </div>
                <div class="fm-details">
                    <div class="detail-section">
                        <div class="detail-title">Threat</div>
                        <div class="detail-content">Parser state corruption via frame boundary confusion</div>
                    </div>
                    <div class="detail-section">
                        <div class="detail-title">Control Modules</div>
                        <div class="detail-content">
                            <a href="#" class="module-link">erlmcp_transport_ws.erl</a>
                        </div>
                    </div>
                    <div class="detail-section">
                        <div class="detail-title">Note</div>
                        <div class="detail-content" style="color: #58a6ff;">
                            WebSocket transport marked as experimental until full compliance testing complete
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p>FMEA Security Dashboard v1.0 | erlmcp 2.1.0 | Generated 2026-02-01</p>
            <p>Click any card to view details | Framework: FMEA→GAP→SUITE→GATE</p>
        </footer>
    </div>

    <script>
        // Toggle FM details
        document.querySelectorAll('.fm-card').forEach(card => {
            card.addEventListener('click', function() {
                const details = this.querySelector('.fm-details');
                details.classList.toggle('active');
            });
        });

        // Filter FMs
        function filterFMs(filter) {
            const cards = document.querySelectorAll('.fm-card');
            const buttons = document.querySelectorAll('.filter-btn');

            // Update button states
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            // Filter cards
            cards.forEach(card => {
                const status = card.dataset.status;
                const rpn = parseInt(card.dataset.rpn);

                let show = false;

                if (filter === 'all') {
                    show = true;
                } else if (filter === 'closed') {
                    show = status === 'closed';
                } else if (filter === 'partial') {
                    show = status === 'partial';
                } else if (filter === 'critical') {
                    show = rpn >= 250;
                }

                card.style.display = show ? 'block' : 'none';
            });
        }
    </script>
</body>
</html>
