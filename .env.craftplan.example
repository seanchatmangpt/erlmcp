# ============================================================================
# Craftplan ERP - Environment Configuration
# ============================================================================
# Copy this file to .env.craftplan and customize for your deployment.
#
# Setup:
#   1. cp .env.craftplan.example .env.craftplan
#   2. Run: ./scripts/craftplan-secrets-setup.sh
#   3. Edit values below as needed
#   4. Deploy: docker stack deploy -c docker-compose.craftplan.yml craftplan
# ============================================================================

# ----------------------------------------------------------------------------
# Public Access Configuration
# ----------------------------------------------------------------------------
# The public hostname for accessing Craftplan
CRAFTPLAN_HOST=craftplan.local

# For production, set to your actual domain:
# CRAFTPLAN_HOST=erp.yourcompany.com

# ----------------------------------------------------------------------------
# Database Configuration
# ----------------------------------------------------------------------------
# PostgreSQL data directory (on swarm nodes)
CRAFTPLAN_DB_PATH=/var/lib/craftplan/db
CRAFTPLAN_DB_LOGS_PATH=/var/log/craftplan/postgres

# ----------------------------------------------------------------------------
# Storage Configuration (MinIO S3)
# ----------------------------------------------------------------------------
# S3 bucket name for file storage
CRAFTPLAN_S3_BUCKET=craftplan

# MinIO data directory (on swarm nodes)
CRAFTPLAN_S3_PATH=/var/lib/craftplan/s3

# MinIO credentials (change these in production!)
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=changeme_minio_admin_password

# AWS Region (default, even with MinIO)
CRAFTPLAN_AWS_REGION=us-east-1

# Asset host URL (for serving uploaded files)
# Change to your public domain in production
CRAFTPLAN_ASSET_HOST=http://craftplan.local:4000

# ----------------------------------------------------------------------------
# Backup Configuration
# ----------------------------------------------------------------------------
# Backup schedule (cron format: @daily, @hourly, or "0 2 * * *")
CRAFTPLAN_BACKUP_SCHEDULE=@daily

# Backup retention (days)
CRAFTPLAN_BACKUP_RETENTION=30

# Backup storage path
CRAFTPLAN_BACKUPS_PATH=/var/lib/craftplan/backups

# ----------------------------------------------------------------------------
# Logging & Observability
# ----------------------------------------------------------------------------
# Log level: debug, info, warn, error
CRAFTPLAN_LOG_LEVEL=info

# MinIO log level
CRAFTPLAN_MINIO_LOG_LEVEL=INFO

# ----------------------------------------------------------------------------
# Email Configuration (Optional)
# ----------------------------------------------------------------------------
# Email is primarily configured from the Settings UI in Craftplan.
# These variables are for automated/headless setups.
#
# Supported providers: sendgrid, postmark, brevo, mailgun, amazon_ses
# CRAFTPLAN_EMAIL_PROVIDER=sendgrid
# CRAFTPLAN_EMAIL_API_KEY=your_api_key_here
#
# For Mailgun:
# CRAFTPLAN_EMAIL_API_DOMAIN=mg.yourdomain.com
#
# For Amazon SES:
# CRAFTPLAN_EMAIL_API_SECRET=your_secret_key
# CRAFTPLAN_EMAIL_API_REGION=us-east-1

# ----------------------------------------------------------------------------
# Advanced Configuration
# ----------------------------------------------------------------------------
# Phoenix port (internal container port, rarely needs change)
# CRAFTPLAN_PORT=4000

# OpenTelemetry endpoint (uses existing erlmcp collector)
# OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4317
