# erlmcp v1.3.0 "Serious MCP Architecture" - Specification Index

**Date**: January 27, 2026
**Status**: SPECIFICATION COMPLETE
**Total Documentation**: 4 comprehensive planning documents (99KB)

---

## DOCUMENT HIERARCHY

### 1. START HERE: Executive Summary
**File**: `/docs/v1.3.0-EXECUTIVE-SUMMARY.md` (15 KB)

**Audience**: C-Level, Product Managers, Stakeholders
**Reading Time**: 15 minutes
**Key Sections**:
- Business case (why v1.3.0?)
- 10 parallel workstreams overview
- Measurable targets (evidence-based)
- Risk profile (MEDIUM, manageable)
- Timeline (5-7 days)
- Go/No-Go decision criteria

**Takeaways**:
- v1.3.0 is a **hardening release**, not a feature release
- 4x throughput ceiling (42.6K → 95K+ msg/sec)
- Supply-chain trust artifacts (SBOM, provenance, 0 CVEs)
- 5-7 business days with 10-agent parallel swarm

**Decision Point**: Approval to proceed with specification phase

---

### 2. DETAILED PLAN: Implementation Strategy
**File**: `/docs/v1.3.0-IMPLEMENTATION-PLAN.md` (32 KB)

**Audience**: Architects, Tech Leads, Agent Coordinators
**Reading Time**: 45 minutes
**Key Sections**:
- Mission overview (10 workstreams)
- Detailed agent responsibilities (Agent 1-10)
- Workstream dependency graph (Mermaid diagram)
- Sequential vs parallel execution strategy
- Shared module/interface requirements
- Test & evidence validation strategy
- Risk assessment by workstream
- Agent execution order (ready to spawn)
- Shared infrastructure setup

**Deliverables by Agent**:
1. **Agent 1**: Transport ceiling (95K msg/sec on 4KB)
2. **Agent 2**: Bounded backpressure (queue caps + flow control)
3. **Agent 3**: Circuit breaker (retry storm prevention)
4. **Agent 4**: Bulkheads (failure isolation)
5. **Agent 5**: Registry scaling (100K concurrent, <1ms p99)
6. **Agent 6**: Protocol safety (initialization state machine)
7. **Agent 7**: Lifecycle cleanup (resource disposal)
8. **Agent 8**: Security hardening (path traversal + header validation)
9. **Agent 9**: Supply chain (SBOM + provenance)
10. **Agent 10**: Evidence bundle (whitepaper + artifacts)

**Critical Path**:
- Phase 1 (4h): Agents 1, 6
- Phase 2 (6h): Agents 2, 3, 4, 7
- Phase 3 (5h): Agents 5, 8
- Phase 4 (3h): Agents 9, 10
- Total: ~32 hours (5-7 calendar days with parallel execution)

**Dependencies**:
- Agent 1 must complete first (throughput baseline locked)
- Agent 6 independent (protocol safety)
- Agents 2-4 wait for Agent 1
- Agent 3 waits for Agent 2
- Agent 5 waits for Agents 2-4
- Agent 7 waits for Agent 6
- Agent 8 independent
- Agents 9-10 wait for all others

**Decision Points**: Approved technical decisions, shared interfaces

---

### 3. TECHNICAL DECISIONS: The Why
**File**: `/docs/v1.3.0-TECHNICAL-DECISIONS.md` (21 KB)

**Audience**: Architects, Senior Engineers, Decision Makers
**Reading Time**: 30 minutes
**Key Sections**:
- 10 major technical decisions (one per workstream)
- Options matrix for each decision
- Rationale + implementation details
- Configuration snippets
- Fallback strategies
- Decision approval matrix

**Decisions Made**:

| # | Decision | Owner | Choice | Rationale |
|---|----------|-------|--------|-----------|
| 1 | Transport optimization | Agent 1 | TCP_NODELAY + buffer tuning | Proven, low risk, 10-15% gain |
| 2 | Queue backpressure | Agent 2 | Hard cap 1000 + exponential backoff | Deterministic, simple recovery |
| 3 | Circuit breaker | Agent 3 | SRE pattern (CLOSED→OPEN→HALF_OPEN) | Industry standard, proven |
| 4 | Bulkheads | Agent 4 | Fixed 8 bulkheads (hash-based) | Deterministic, scales to 100K |
| 5 | Registry scaling | Agent 5 | 16 shards with ETS | Sub-ms p99, proven in codebase |
| 6 | Protocol safety | Agent 6 | Strict init enforcement | Production safety + backward compat |
| 7 | Lifecycle cleanup | Agent 7 | Hybrid (explicit + TTL) | No leaks + fast path + fallback |
| 8 | Security | Agent 8 | Strict URI validation (canonicalization) | Blocks known attacks, acceptable perf |
| 9 | SBOM format | Agent 9 | CycloneDX JSON | OWASP standard, tooling available |
| 10 | Evidence bundle | Agent 10 | Multi-format (JSON + MD + PDF) | Supports all audiences |

**Configuration Schema**: All decisions go into `config/sys.config` (single source of truth)

**Fallback Options**: Every decision has documented fallbacks for risk mitigation

**Decision Authority**: All decisions require approval before agent spawning

---

### 4. RISK & AGENT ASSIGNMENT: Execution Details
**File**: `/docs/v1.3.0-RISK-AND-AGENT-ASSIGNMENT.md` (31 KB)

**Audience**: Project Managers, Risk Officers, Coordinators
**Reading Time**: 40 minutes
**Key Sections**:
- Risk register (CRITICAL, HIGH, MEDIUM, LOW)
- Risk response matrix (trigger + action)
- Agent assignment details (10 agents)
- Pre-flight checklist
- Daily execution schedule
- Success metrics summary
- Final decision gate

**Risk Profile**:
- **CRITICAL (1)**: GC pause breaks throughput (mitigated: fallback to 80K)
- **HIGH (3)**: Registry contention, circuit recovery, backpressure latency
- **MEDIUM (8)**: Bulkhead restart storm, fuzzing crash, SBOM vuln, etc.
- **LOW (6)**: Hardware insufficient, docs quality, etc.

**Overall Risk**: MEDIUM (manageable with documented contingencies)

**Fallback Options**: Every risk has documented mitigation plan

**Agent Assignments**:
1. **Agent 1** (performance-benchmarker): Throughput ceiling
2. **Agent 2** (backend-dev): Backpressure
3. **Agent 3** (system-architect): Circuit breaker
4. **Agent 4** (system-architect): Bulkheads
5. **Agent 5** (code-analyzer): Registry scaling
6. **Agent 6** (tester): Protocol safety
7. **Agent 7** (tester): Lifecycle cleanup
8. **Agent 8** (production-validator): Security
9. **Agent 9** (production-validator): Supply chain
10. **Agent 10** (docs-writer): Evidence bundle

**Pre-Flight Checklist** (DO BEFORE SPAWNING):
- [ ] Reserve hardware (16+ cores, 32GB RAM)
- [ ] Verify build system (rebar3 compile works)
- [ ] Baseline benchmark (v0.6.0 at 42.6K)
- [ ] OTEL collector running
- [ ] Decision approval (all 10 decisions signed)
- [ ] Config schema ready

**Execution Schedule**:
```
Day 1 AM: Spawn Agents 1 + 6
Day 1 PM: Spawn Agents 2, 3, 4, 7
Day 2 AM: Spawn Agents 5 + 8
Day 2 PM: Spawn Agents 9 + 10
Day 2 Evening: CRITICAL GATE (validate evidence bundle)
Day 3 AM: Staging deployment + smoke tests
Day 3 PM: RELEASE LIVE
```

**Go/No-Go Decision**: All 10 success criteria must be met (documented fallbacks for each)

---

## QUICK REFERENCE

### For Different Roles

**IF YOU ARE A...**

**Project Manager**:
1. Read: Executive Summary (15 min)
2. Read: Risk & Agent Assignment → "Agent Assignment" section (15 min)
3. Daily: Monitor schedule from Risk document
4. Decision gate: Validate all 10 success criteria

**Architect/Tech Lead**:
1. Read: Implementation Plan (45 min) for dependencies
2. Read: Technical Decisions (30 min) for rationale
3. Review: Shared module requirements in Implementation Plan
4. Approve: All 10 technical decisions before spawning
5. Oversight: Agent progress against critical path

**Security Officer**:
1. Read: Risk Register → Security risks (10 min)
2. Read: Technical Decisions → Security decision (10 min)
3. Review: Agent 8 (Security Hardening) approach
4. Review: Agent 9 (SBOM/CVE scan) approach
5. Approve: Supply chain artifacts before release

**Product Manager**:
1. Read: Executive Summary (15 min)
2. Review: Customer benefits section
3. Check: Measurable targets align with business goals
4. Prepare: Release messaging once v1.3.0 complete
5. Plan: v1.4.0 roadmap (mentioned in CTO whitepaper)

**Agent Coordinator** (if running swarm):
1. Read: Implementation Plan (full, 45 min)
2. Review: Risk & Agent Assignment → Agent details (30 min)
3. Pre-flight: Run checklist from Risk document
4. Daily: Follow execution schedule from Risk document
5. Escalation: Trigger response matrix for any blocker

---

## CRITICAL PATH FLOW

```
SPECIFICATION PHASE (YOU ARE HERE)
│
├─ Read: Executive Summary (15 min)
├─ Review: Implementation Plan (45 min)
├─ Approve: Technical Decisions (all 10)
└─ Decision: PROCEED or DEFER

IF PROCEED:
│
├─ Day 1 AM: Pre-flight checks + Spawn Phase 1
├─ Day 1 PM: Spawn Phase 2 (4 agents)
├─ Day 2 AM: Spawn Phase 3 (2 agents)
├─ Day 2 PM: Spawn Phase 4 (2 agents)
├─ Day 2 Evening: CRITICAL GATE (validate evidence)
├─ Day 3 AM: Staging + smoke tests
└─ Day 3 PM: RELEASE v1.3.0 LIVE

POST-RELEASE:
│
├─ Announce v1.3.0 + SBOM
├─ Share CTO whitepaper
├─ Update sales deck
└─ Begin v1.4.0 planning
```

---

## DELIVERABLES CHECKLIST

### After Specification Phase Complete

- ✅ **v1.3.0-EXECUTIVE-SUMMARY.md** - Business case, approval needed
- ✅ **v1.3.0-IMPLEMENTATION-PLAN.md** - Detailed agent tasks + dependencies
- ✅ **v1.3.0-TECHNICAL-DECISIONS.md** - Design rationale + options
- ✅ **v1.3.0-RISK-AND-AGENT-ASSIGNMENT.md** - Risk mitigation + execution schedule
- ✅ **v1.3.0-SPECIFICATION-INDEX.md** - This document

### During Execution Phase (Agents will produce)

**Evidence Artifacts** (in `docs/v1.3.0-evidence/`):
- `performance/throughput_report.json` (Agent 1)
- `performance/latency_histogram.csv` (Agent 1)
- `reliability/backpressure_metrics.json` (Agent 2)
- `reliability/scaling_report.json` (Agent 5)
- `security/security_audit.json` (Agent 8)
- `compliance/v1.3.0-SBOM.cyclonedx` (Agent 9)
- `compliance/vulnerability_scan.json` (Agent 9)

**Code Artifacts** (in `src/` and `test/`):
- 10 new modules (one per agent)
- ~50 new test suites
- ~30 new header files

**Documentation**:
- `v1.3.0-CTO-WHITEPAPER.md` (Agent 10)
- `v1.3.0-RELEASE-NOTES.md` (Agent 10)
- `v1.3.0-DEPLOYMENT-CHECKLIST.md` (Agent 10)
- `v1.3.0-EVIDENCE-BUNDLE.json` (Agent 10, aggregated)

---

## SUCCESS CRITERIA (FINAL GATE)

### All 10 Must Pass (No Exceptions)

| Agent | Success Criterion | Evidence Type |
|-------|------------------|---------------|
| 1 | Throughput ≥80K msg/sec (target ≥95K) | JSON benchmark report |
| 2 | Queue never exceeds configured cap | ETS introspection + property tests |
| 3 | Circuit breaker recovery <5 min | Latency histogram |
| 4 | Zero crash propagation between connections | Integration test report |
| 5 | Registry p99 lookup ≥50K (target ≥100K) | Scaling graph + metrics |
| 6 | 100% pre-init operation rejection | Protocol compliance matrix |
| 7 | Zero handler leaks after unsubscribe | ETS audit + test report |
| 8 | 0 HIGH/CRITICAL security CVEs | Security audit report |
| 9 | SBOM complete + 0 critical vulns | CycloneDX + scan report |
| 10 | Evidence bundle validates + whitepaper complete | Schema validation + PDF |

**Decision**: GO (release) if all 10 pass. NO-GO requires manager escalation + fallback plan.

---

## NEXT STEPS FOR APPROVAL

### Immediate (Today)

1. **Send to stakeholders**: All 4 documents
2. **Schedule alignment call**: 30 minutes (all leads)
3. **Collect sign-offs**:
   - [ ] Tech Lead (technical decisions)
   - [ ] Product Manager (scope + timeline)
   - [ ] Security Lead (hardening approach)
   - [ ] Compliance Officer (SBOM)
   - [ ] Manager (go/no-go authority)

### Tomorrow (If Approved)

1. **Pre-flight** (7 AM):
   - Build system verification
   - Hardware reservation
   - Baseline measurements

2. **Spawn Phase 1** (8 AM):
   - Agent 1: Transport ceiling
   - Agent 6: Protocol safety

3. **Daily standups**: 8 AM + 2 PM (all team)

---

## SUPPORTING DOCUMENTS IN CODEBASE

### Existing v1.2.0 Foundations

- `/docs/BENCHMARK_EXECUTION_SUMMARY.md` - Baseline metrics + blockers
- `/docs/MASTER_PLAN_INDEX.md` - Historical context
- `/docs/100X_IMPLEMENTATION_GUIDE.md` - Scaling patterns
- `/docs/TCPS_DIATAXIS_USER_GUIDE.md` - TCPS system overview
- `/bench/benchmark_100k.erl` - Existing 100K benchmark
- `/bench/latency_SUITE.erl` - Existing latency benchmarks
- `/bench/throughput_SUITE.erl` - Existing throughput benchmarks

### Configuration

- `config/sys.config` - Will be updated with v1.3.0 config
- `rebar.config` - Profiles + dependencies
- `include/erlmcp.hrl` - Protocol definitions

### Tests

- `test/` - Will receive ~50 new test suites from agents
- `bench/` - Will receive 5-10 new benchmarks from Agent 1 + 5

---

## FAQ - QUICK ANSWERS

**Q: When does execution start?**
A: After all 5 sign-offs. Pre-flight checks Day 1 at 7 AM. Agent spawning starts 8 AM.

**Q: What if we miss a deadline?**
A: All agents are parallel where possible. 1-day slip = 5-7 day extension total (acceptable). Multi-day slip = re-evaluate at daily standup.

**Q: What if Agent X finds a blocker?**
A: Response matrix in Risk document. Most have fallback options + 1-4 hour fixes.

**Q: Can we run this without all agents?**
A: No. v1.3.0 requires all 10 workstreams. Missing even 1 leaves major gap (e.g., no security if Agent 8 skipped).

**Q: What's the minimum viable v1.3.0?**
A: NOT an option here. v1.3.0 is complete package: throughput + reliability + security + evidence. If forced to cut, becomes v1.2.1 (not a "3.0" release).

**Q: Who approves go/no-go at evidence gate?**
A: Manager (with input from Tech Lead, Security Lead). Decision happens Day 2 evening. If all 10 criteria met: automatic GO.

---

## CONTACT & ESCALATION

### Decision Point (Approval to Proceed)
- **Owner**: [Manager Name]
- **Contact**: [Email/Slack]
- **Deadline**: [Date] EOD

### Technical Questions
- **Owner**: Tech Lead
- **Contact**: [Slack channel]

### Risk Escalation
- **Owner**: Project Manager
- **Contact**: [Slack channel]
- **Threshold**: Any risk materialized, escalate within 1 hour

### Evidence Validation (Final Gate)
- **Owner**: Agent 10 (docs-writer)
- **Process**: Schema validation + manual review
- **Timeline**: Day 2, 7 PM

---

## CONCLUSION

erlmcp v1.3.0 specification is **COMPLETE** and **READY TO EXECUTE**.

**4 comprehensive planning documents** define:
- ✅ Business case (why v1.3.0?)
- ✅ Technical approach (10 agents, parallel swarm)
- ✅ Execution timeline (5-7 days)
- ✅ Risk mitigation (documented fallbacks)
- ✅ Success criteria (measurable evidence)
- ✅ Go/No-Go decision framework

**Next action**: Stakeholder approval → Agent spawning → Release by February 10

---

**Status**: SPECIFICATION COMPLETE
**Recommendation**: PROCEED TO EXECUTION PHASE
**Date**: January 27, 2026

