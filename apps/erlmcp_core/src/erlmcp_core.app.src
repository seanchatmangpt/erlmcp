{application, erlmcp_core,
 [{description, "Erlang MCP Core Protocol - JSON-RPC, Registry, Client/Server"},
  {vsn, "2.1.0"},
  {registered, [
      erlmcp_sup,
      erlmcp_core_sup,
      erlmcp_server_sup,
      erlmcp_registry
  ]},
  {applications, [
      kernel,
      stdlib,
      crypto,
      public_key,
      jsx,
      jesse,
      gproc,
      jose,
      bbmustache
  ]},
  {mod, {erlmcp_app, []}},
  {env, [
      {client_defaults, #{
          timeout => 5000,
          strict_mode => false,
          max_pending_requests => 100
      }},
      {server_defaults, #{
          max_subscriptions_per_resource => 1000,
          max_progress_tokens => 10000
      }},
      {registry_defaults, #{
          sharding_strategy => none,
          health_check_interval => 30000
      }},
      %% Cluster configuration (disabled by default)
      {cluster_enabled, false},
      {cluster_nodes, []},
      {cluster_cookie, erlmcp_cluster},
      {cluster_heartbeat_interval, 10000},
      {node_check_interval, 5000},
      {split_brain_strategy, winner_takes_all},
      {split_brain_check_interval, 30000},
      {master_node, undefined},

      %% RPC timeout configuration
      {rpc_call_timeout_ms, 5000},
      {rpc_long_call_timeout_ms, 10000},

      %% Apps server configuration
      {max_registered_apps, 100},

      %% Plugin registry configuration
      {plugin_registry_timeout_ms, 5000},

      %% Overload monitor configuration
      {overload_monitor_enabled, true},
      {overload_check_interval_ms, 5000},
      {overload_max_alert_history, 100},
      {overload_warning_threshold, 0.80},
      {overload_critical_threshold, 0.90},
      {overload_threshold, 1.00},

      %% Node monitor configuration
      {node_monitor_enabled, true},
      {node_check_interval_ms, 5000},

      %% CPU quota configuration
      {cpu_quota_enabled, true},
      {cpu_quota_max_cpu_time_per_sec_ms, 100},
      {cpu_quota_max_ops_per_sec, 50},
      {cpu_quota_window_ms, 1000},
      {cpu_quota_timeout_ms, 5000},
      {cpu_quota_cleanup_interval_ms, 60000},

      %% Memory monitor configuration
      {memory_monitor_enabled, true},
      {memory_monitor_check_interval_ms, 30000},
      {memory_monitor_threshold, 0.80},
      {memory_monitor_binary_threshold_bytes, 50000000},
      {memory_monitor_auto_gc, true}
  ]},
  {modules, [
    erlmcp_app,
    erlmcp_sup,
    erlmcp_core_sup,
    erlmcp_server_sup,
    erlmcp_registry,
    erlmcp_client,
    erlmcp_server,
    erlmcp_json_rpc,
    erlmcp_capabilities,
    erlmcp_resources,
    erlmcp_tools,
    erlmcp_prompts,
    erlmcp_logging,
    erlmcp_progress,
    erlmcp_sampling,
    erlmcp_session,
    erlmcp_cache,
    erlmcp_rate_limiter,
    erlmcp_circuit_breaker,
    erlmcp_batch,
    erlmcp_connection_monitor,
    erlmcp_otel,
    erlmcp_metrics,
    erlmcp_chaos,
    erlmcp_test_sync,
    erlmcp_completion,
    erlmcp_tasks,
    erlmcp_prompt_template,
    %% Additional modules
    erlmcp,
    erlmcp_apps_server,
    erlmcp_auth,
    erlmcp_auth_rate_limiter,
    erlmcp_cancellation,
    erlmcp_change_notifier,
    erlmcp_client_transport,
    erlmcp_cluster_sup,
    erlmcp_code_reload,
    erlmcp_connection_limiter,
    erlmcp_cpu_guard,
    erlmcp_cpu_quota,
    erlmcp_elicitation,
    erlmcp_graceful_drain,
    erlmcp_hooks,
    erlmcp_icon_cache,
    erlmcp_memory_guard,
    erlmcp_message_handler,
    erlmcp_message_parser,
    erlmcp_message_size,
    erlmcp_mock_llm,
    erlmcp_node_monitor,
    erlmcp_notification_handler,
    erlmcp_notification_handler_sup,
    erlmcp_pagination,
    erlmcp_path_canonicalizer,
    erlmcp_prompt_list_change_notifier,
    erlmcp_rate_limit_middleware,
    erlmcp_refusal,
    erlmcp_registry_dist,
    erlmcp_registry_utils,
    erlmcp_reload_sup,
    erlmcp_request_id,
    erlmcp_resource,
    erlmcp_resource_subscriptions,
    erlmcp_roots_server,
    erlmcp_schema_registry,
    erlmcp_schema_validator,
    erlmcp_secrets,
    erlmcp_session_failover,
    erlmcp_session_manager,
    erlmcp_session_replicator,
    erlmcp_split_brain_detector,
    erlmcp_sse_event_store,
    erlmcp_subscription,
    erlmcp_tool,
    erlmcp_uri_validator
]},
  {licenses, ["Apache-2.0"]},
  {links, [{"GitHub", "https://github.com/banyan-platform/erlmcp"}]},
  %% OTP Version Requirements
  {notes, [
      "Supports Erlang/OTP 25-28",
      "OTP 28+ features: priority messages, improved process iteration, native JSON",
      "OTP 27+ features: json module, improved monitoring",
      "OTP 26+ features: process_info improvements",
      "Minimum: OTP 25 (production ready)",
      "Recommended: OTP 28+ for best performance"
  ]}
 ]}.
