{application, erlmcp_core,
 [{description, "Erlang MCP Core Protocol - JSON-RPC, Registry, Client/Server"},
  {vsn, "2.1.0"},
  {registered, [
      erlmcp_sup,
      erlmcp_core_sup,
      erlmcp_server_sup,
      erlmcp_registry
  ]},
  {applications, [
      kernel,
      stdlib,
      crypto,
      public_key,
      jsx,
      jesse,
      gproc,
      jose,
      bbmustache
  ]},
  {mod, {erlmcp_app, []}},
  {env, [
      {client_defaults, #{
          timeout => 5000,
          strict_mode => false,
          max_pending_requests => 100
      }},
      {server_defaults, #{
          max_subscriptions_per_resource => 1000,
          max_progress_tokens => 10000
      }},
      {registry_defaults, #{
          sharding_strategy => none,
          health_check_interval => 30000
      }},
      %% Cluster configuration (disabled by default)
      {cluster_enabled, false},
      {cluster_nodes, []},
      {cluster_cookie, erlmcp_cluster},
      {cluster_heartbeat_interval, 10000},
      {node_check_interval, 5000},
      {split_brain_strategy, winner_takes_all},
      {split_brain_check_interval, 30000},
      {master_node, undefined}
  ]},
  {modules, [
    erlmcp_app,
    erlmcp_sup,
    erlmcp_core_sup,
    erlmcp_server_sup,
    erlmcp_registry,
    erlmcp_client,
    erlmcp_server,
    erlmcp_json_rpc,
    erlmcp_capabilities,
    erlmcp_resources,
    erlmcp_tools,
    erlmcp_prompts,
    erlmcp_logging,
    erlmcp_progress,
    erlmcp_sampling,
    erlmcp_session,
    erlmcp_cache,
    erlmcp_rate_limiter,
    erlmcp_circuit_breaker,
    erlmcp_batch,
    erlmcp_connection_monitor,
    erlmcp_otel,
    erlmcp_metrics,
    erlmcp_chaos,
    erlmcp_test_sync,
    erlmcp_completion,
    erlmcp_tasks,
    erlmcp_prompt_template,
    %% Additional modules
    erlmcp,
    erlmcp_apps_server,
    erlmcp_auth,
    erlmcp_auth_rate_limiter,
    erlmcp_cancellation,
    erlmcp_change_notifier,
    erlmcp_client_transport,
    erlmcp_cluster_sup,
    erlmcp_code_reload,
    erlmcp_connection_limiter,
    erlmcp_cpu_guard,
    erlmcp_cpu_quota,
    erlmcp_elicitation,
    erlmcp_graceful_drain,
    erlmcp_hooks,
    erlmcp_icon_cache,
    erlmcp_memory_guard,
    erlmcp_message_handler,
    erlmcp_message_parser,
    erlmcp_message_size,
    erlmcp_mock_llm,
    erlmcp_node_monitor,
    erlmcp_notification_handler,
    erlmcp_notification_handler_sup,
    erlmcp_pagination,
    erlmcp_path_canonicalizer,
    erlmcp_prompt_list_change_notifier,
    erlmcp_rate_limit_middleware,
    erlmcp_refusal,
    erlmcp_registry_dist,
    erlmcp_registry_utils,
    erlmcp_reload_sup,
    erlmcp_request_id,
    erlmcp_resource,
    erlmcp_resource_subscriptions,
    erlmcp_roots_server,
    erlmcp_schema_registry,
    erlmcp_schema_validator,
    erlmcp_secrets,
    erlmcp_session_failover,
    erlmcp_session_manager,
    erlmcp_session_replicator,
    erlmcp_split_brain_detector,
    erlmcp_sse_event_store,
    erlmcp_subscription,
    erlmcp_tool,
    erlmcp_uri_validator,
    %% OTP 28 Binary Utilities
    erlmcp_binary_utils,
    erlmcp_floats,
    erlmcp_zip_utils,
    erlmcp_unwrap_utils,
    erlmcp_socket_utils,
    erlmcp_map_utils,
    erlmcp_supervisor_utils,
    erlmcp_registry_utils,
    erlmcp_atoms,
    %% OTP 28 Process Introspection
    erlmcp_inspector,
    erlmcp_admin
]},
  {licenses, ["Apache-2.0"]},
  {links, [{"GitHub", "https://github.com/banyan-platform/erlmcp"}]},
  %% OTP 27+ Runtime Dependencies (enforced at load time)
  {runtime_dependencies, [
    "erts-16.0.3",     % OTP 28 ERTS minimum
    "kernel-10.4",     % OTP 28 Kernel minimum
    "stdlib-6.0",      % OTP 28 STDLIB minimum
    "crypto-5.3",      % Crypto library (OTP 27+)
    "ssl-11.0",        % SSL/TLS support (OTP 28)
    "public_key-1.5",  % Public key cryptography
    "jsx-3.1.0",       % JSON encoding (external dep)
    "jesse-1.8.1",     % JSON Schema validation (external dep)
    "gproc-0.9.0"      % Process registry (external dep)
  ]},
  %% OTP Version Requirements
  {notes, [
      "Requires: Erlang/OTP 28+ (STRICT)",
      "OTP 28+ features: priority messages, improved process iteration, native JSON, hibernate/0",
      "OTP 27+ features: runtime_dependencies enforcement, json module, improved monitoring",
      "OTP 26+ features: concurrent application startup, persistent config, prep_stop/1",
      "Previous OTP 25 support deprecated - upgrade to OTP 28+ required",
      "See docs/OTP_APPLICATION_CONFIG_RESEARCH.md for version-specific features"
  ]}
 ]}.
