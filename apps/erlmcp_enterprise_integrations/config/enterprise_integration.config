%% erlmcp Enterprise Integrations Configuration
%% This file contains configuration for all enterprise integration adapters

{erlmcp_enterprise_integrations, [
    %% Identity Provider Configuration
    {identity_providers, [
        %% Okta Configuration
        {okta, #{
            provider => okta,
            endpoint => "https://your-company.okta.com",
            api_key => <<"your-api-key">>,
            auth_flow => client_credentials,
            cache_ttl => 300000,
            timeout => 30000,
            retry_count => 3
        }},

        %% Azure AD Configuration
        {azure, #{
            provider => azure,
            endpoint => "https://login.microsoftonline.com/your-tenant-id",
            client_id => <<"your-client-id">>,
            client_secret => <<"your-client-secret">>,
            auth_flow => authorization_code,
            scopes => ["openid", "profile", "offline_access"],
            cache_ttl => 3600000,
            timeout => 30000,
            retry_count => 3
        }},

        %% ADFS Configuration
        {adfs, #{
            provider => adfs,
            endpoint => "https://your-adfs/adfs",
            username => <<"your-username">>,
            password => <<"your-password">>,
            auth_flow => saml,
            issuer => <<"erlmcp">>,
            cache_ttl => 300000,
            timeout => 30000,
            retry_count => 3
        }}
    ]},

    %% Monitoring System Configuration
    {monitoring_providers, [
        %% Splunk Configuration
        {splunk, #{
            provider => splunk,
            endpoint => "https://your-splunk-instance:8088",
            api_key => <<"your-splunk-api-key">>,
            index => "erlmcp",
            sourcetype => "erlmcp:metric",
            timeout => 30000,
            retry_count => 3
        }},

        %% Datadog Configuration
        {datadog, #{
            provider => datadog,
            endpoint => "https://api.datadoghq.com",
            api_key => <<"your-datadog-api-key">>,
            application_key => <<"your-datadog-app-key">>,
            site => "datadoghq.com",
            timeout => 30000,
            retry_count => 3
        }},

        %% New Relic Configuration
        {newrelic, #{
            provider => newrelic,
            endpoint => "https://api.newrelic.com",
            api_key => <<"your-newrelic-api-key">>,
            account_id => <<"your-account-id">>,
            timeout => 30000,
            retry_count => 3
        }}
    ]},

    %% Logging Platform Configuration
    {logging_providers, [
        %% ELK Stack Configuration
        {elk, #{
            provider => elk,
            endpoint => "http://localhost:9200",
            username => undefined,
            password => undefined,
            cluster_name => "elasticsearch",
            index_pattern => "erlmcp-*",
            timeout => 30000,
            retry_count => 3
        }},

        %% Graylog Configuration
        {graylog, #{
            provider => graylog,
            endpoint => "http://localhost:9000",
            username => undefined,
            password => undefined,
            index_prefix => "erlmcp-",
            timeout => 30000,
            retry_count => 3
        }},

        %% Sumo Logic Configuration
        {sumologic, #{
            provider => sumologic,
            endpoint => "https://api.sumologic.com",
            api_key => <<"your-sumologic-api-key">>,
            collector_id => <<"your-collector-id">>,
            timeout => 30000,
            retry_count => 3
        }}
    ]},

    %% Business Intelligence Configuration
    {bi_providers, [
        %% Tableau Configuration
        {tableau, #{
            provider => tableau,
            endpoint => "https://your-site.tableau.com",
            api_version => "3.12",
            site_url => "default",
            username => undefined,
            password => undefined,
            personal_access_token => <<"your-tableau-token">>,
            timeout => 30000,
            retry_count => 3
        }},

        %% Power BI Configuration
        {powerbi, #{
            provider => powerbi,
            endpoint => "https://api.powerbi.com",
            api_version => "v1.0",
            workspace_id => <<"your-workspace-id">>,
            client_id => <<"your-client-id">>,
            client_secret => <<"your-client-secret">>,
            timeout => 30000,
            retry_count => 3
        }}
    ]},

    %% Enterprise Service Bus Configuration
    {esb_providers, [
        %% Apache Kafka Configuration
        {kafka, #{
            provider => kafka,
            brokers => ["kafka1:9092", "kafka2:9092", "kafka3:9092"],
            topics => ["erlmcp-events", "erlmcp-commands"],
            consumer_group => "erlmcp-group",
            serializer => json,
            timeout => 30000,
            retry_count => 3
        }},

        %% IBM WebSphere MQ Configuration
        {websphere_mq, #{
            provider => websphere_mq,
            queue_manager => "QM1",
            channel => "SYSTEM.DEF.SVRCONN",
            host => "localhost",
            port => 1414,
            timeout => 30000,
            retry_count => 3
        }}
    ]},

    %% Data Warehouse Configuration
    {dwh_providers, [
        %% Snowflake Configuration
        {snowflake, #{
            provider => snowflake,
            account => "your-account",
            warehouse => "COMPUTE_WH",
            database => "ERLMCP",
            schema => "ANALYTICS",
            username => "user",
            password => "password",
            timeout => 30000,
            retry_count => 3
        }},

        %% Google BigQuery Configuration
        {bigquery, #{
            provider => bigquery,
            project => "your-project",
            dataset => "erlmcp",
            timeout => 30000,
            retry_count => 3
        }},

        %% Amazon Redshift Configuration
        {redshift, #{
            provider => redshift,
            host => "your-cluster.xxxx.region.redshift.amazonaws.com",
            port => 5439,
            database => "dev",
            username => "awsuser",
            password => "your-password",
            timeout => 30000,
            retry_count => 3
        }}
    ]},

    %% DevOps Tool Configuration
    {devops_providers, [
        %% Jenkins Configuration
        {jenkins, #{
            provider => jenkins,
            endpoint => "http://localhost:8080",
            username => "admin",
            api_token => "your-api-token",
            timeout => 30000,
            retry_count => 3
        }},

        %% GitLab CI Configuration
        {gitlab_ci, #{
            provider => gitlab_ci,
            endpoint => "https://gitlab.com",
            api_token => "your-access-token",
            timeout => 30000,
            retry_count => 3
        }}
    ]},

    %% API Gateway Configuration
    {api_gateway_providers, [
        %% Kong Configuration
        {kong, #{
            provider => kong,
            endpoint => "http://localhost:8001",
            admin_key => "your-admin-key",
            timeout => 30000,
            retry_count => 3
        }},

        %% Apigee Configuration
        {apigee, #{
            provider => apigee,
            endpoint => "https://api.enterprise.apigee.com",
            organization => "your-org",
            api_key => "your-api-key",
            timeout => 30000,
            retry_count => 3
        }}
    ]},

    %% Cloud Platform Configuration
    {cloud_providers, [
        %% AWS Configuration
        {aws, #{
            provider => aws,
            region => "us-west-2",
            access_key_id => "your-access-key-id",
            secret_access_key => "your-secret-access-key",
            session_token => undefined,
            timeout => 30000,
            retry_count => 3
        }},

        %% Azure Configuration
        {azure, #{
            provider => azure,
            subscription_id => "your-subscription-id",
            tenant_id => "your-tenant-id",
            client_id => "your-client-id",
            client_secret => "your-client-secret",
            timeout => 30000,
            retry_count => 3
        }},

        %% Google Cloud Configuration
        {gcp, #{
            provider => gcp,
            project_id => "your-project-id",
            credentials => "your-service-account-key.json",
            timeout => 30000,
            retry_count => 3
        }}
    ]},

    %% Security System Configuration
    {security_providers, [
        %% Splunk SOAR Configuration
        {splunk_soar, #{
            provider => splunk_soar,
            endpoint => "https://soar.example.com",
            api_key => "your-api-key",
            timeout => 30000,
            retry_count => 3
        }},

        %% IBM QRadar Configuration
        {qradar, #{
            provider => qradar,
            endpoint => "https://qradar.example.com",
            username => "admin",
            password => "password",
            timeout => 30000,
            retry_count => 3
        }}
    ]},

    %% Configuration Management Configuration
    {config_management_providers, [
        %% Ansible Configuration
        {ansible, #{
            provider => ansible,
            endpoint => "http://ansible-controller",
            username => "admin",
            private_key => "path/to/private/key",
            timeout => 30000,
            retry_count => 3
        }},

        %% Puppet Configuration
        {puppet, #{
            provider => puppet,
            endpoint => "https://puppetmaster.example.com",
            cert => "path/to/cert.pem",
            key => "path/to/key.pem",
            timeout => 30000,
            retry_count => 3
        }}
    ]},

    %% Container Orchestration Configuration
    {container_providers, [
        %% Kubernetes Configuration
        {kubernetes, #{
            provider => kubernetes,
            endpoint => "https://kubernetes.default.svc",
            namespace => "default",
            timeout => 30000,
            retry_count => 3
        }},

        %% Docker Swarm Configuration
        {docker_swarm, #{
            provider => docker_swarm,
            endpoint => "tcp://localhost:2377",
            timeout => 30000,
            retry_count => 3
        }}
    ]},

    %% Integration Gateway Configuration
    {integration_gateway, #{
        routing_rules => #{
            default => #{
                priority => normal,
                timeout => 5000,
                retries => 3
            },
            high_priority => #{
                priority => high,
                timeout => 1000,
                retries => 1
            },
            batch => #{
                priority => low,
                timeout => 30000,
                retries => 5
            }
        },
        transformers => #{
            json_to_xml => #{
                type => simple,
                root => <<"data">>,
                mapping => #{}
            },
            xml_to_json => #{
                type => simple,
                root => <<"data">>,
                mapping => #{}
            }
        },
        security => #{
            enable => true,
            authentication => oauth2,
            authorization => rbac,
            encryption => aes256
        },
        metrics => #{
            enable => true,
            interval => 60000,
            retention => 86400000
        }
    }},

    %% Security Configuration
    {security, #{
        encryption => #{
            algorithm => aes256,
            key_rotation_interval => 86400000, % 24 hours
            salt_size => 32
        },
        authentication => #{
            provider => oauth2,
            token_type => jwt,
            token_expiration => 3600,
            refresh_token_expiration => 86400
        },
        authorization => #{
            provider => rbac,
            admin_role => "admin",
            default_role => "user"
        },
        audit => #{
            enabled => true,
            log_level => info,
            retention_days => 365
        }
    }},

    %% Performance Configuration
    {performance, #{
        caching => #{
            enabled => true,
            ttl => 300000, % 5 minutes
            max_size => 10000
        },
        batching => #{
            enabled => true,
            batch_size => 100,
            timeout => 5000
        },
        throttling => #{
            enabled => true,
            max_requests_per_second => 1000,
            burst_size => 100
        }
    }},

    %% Logging Configuration
    {logging, #{
        level => info,
        format => json,
        outputs => [file, console, remote],
        file => #{
            path => "/var/log/erlmcp/enterprise_integrations.log",
            rotation => daily,
            max_size => 100 * 1024 * 1024, % 100MB
        },
        console => #{
            enabled => true,
            color => true
        },
        remote => #{
            enabled => false,
            endpoint => undefined
        }
    }},

    %% Observability Configuration
    {observability, #{
        tracing => #{
            enabled => true,
            provider => jaeger,
            endpoint => "http://jaeger:14268",
            sampling_rate => 0.1
        },
        metrics => #{
            enabled => true,
            provider => prometheus,
            endpoint => ":9090",
            retention => 86400
        },
        health => #{
            enabled => true,
            endpoint => "/health",
            interval => 30000
        }
    }}
]}.