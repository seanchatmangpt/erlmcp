{erl_opts, [debug_info, {i, "include"}, {i, "include/swarmflow_os"}]}.

{deps, []}.

%% Rust NIF compilation is completely optional
%% The NIF module provides Erlang fallbacks when not loaded
{artifacts, [
    {"priv/lib/swf_rust_nif.so", [
        "c_src/swf_rust_nif.rs",
        "Cargo.toml",
        ".cargo/config.toml"
    ]}
]}.

{artifacts_extra_opts, [
    {optional, true},
    {ignore_warning, true}
]}.

%% Pre-hooks removed - Rust NIF build causes permission issues in Docker
%% The NIF is optional and Erlang fallbacks are provided

{post_hooks, [
    {compile, "echo 'SwarmFlow OS NIF: Build optional - using Erlang fallbacks'"}
]}.
