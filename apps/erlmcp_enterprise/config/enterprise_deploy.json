{
  "deployment": {
    "environment": "production",
    "version": "3.0.0",
    "profile": "enterprise",
    "cluster_mode": true,
    "nodes": [
      {
        "name": "erlmcp-enterprise-1",
        "host": "enterprise-1.example.com",
        "cookie": "erlmcp-enterprise-cookie",
        "roles": ["primary", "api", "analytics"],
        "memory": {
          "total": "8GB",
          "available": "6GB",
          "erlang": "4GB"
        }
      },
      {
        "name": "erlmcp-enterprise-2",
        "host": "enterprise-2.example.com",
        "cookie": "erlmcp-enterprise-cookie",
        "roles": ["secondary", "api", "analytics"],
        "memory": {
          "total": "8GB",
          "available": "6GB",
          "erlang": "4GB"
        }
      },
      {
        "name": "erlmcp-enterprise-3",
        "host": "enterprise-3.example.com",
        "cookie": "erlmcp-enterprise-cookie",
        "roles": ["analytics", "batch"],
        "memory": {
          "total": "16GB",
          "available": "12GB",
          "erlang": "8GB"
        }
      }
    ],
    "distribution": {
      "net_ticktime": 5000,
      "dist_listen_max": 1024,
      "dist_listen_min": 511,
      "dist_auto_connect": true,
      "dist_buffer_sizes": {
        "max": "16MB",
        "min": "1MB",
        "increment": "1MB"
      }
    },
    "monitoring": {
      "enabled": true,
      "metrics": {
        "enabled": true,
        "interval": 5000,
        "retention": 86400000,
        "collectors": [
          "vm_metrics",
          "process_metrics",
          "application_metrics",
          "business_metrics"
        ]
      },
      "tracing": {
        "enabled": true,
        "sample_rate": 1.0,
        "batch_size": 1000,
        "flush_interval": 5000,
        "exporters": ["jaeger", "otlp"]
      },
      "logging": {
        "enabled": true,
        "level": "info",
        "format": "json",
        "outputs": ["console", "file", "elasticsearch"]
      }
    }
  },
  "applications": {
    "erlmcp_core": {
      "vsn": "3.0.0",
      "applications": ["stdlib", "kernel", "crypto", "ssl", "public_key"],
      "modules": ["erlmcp_core_app", "erlmcp_core_sup"],
      "env": [
        {"name": "ERLMCP_LOG_LEVEL", "value": "info"},
        {"name": "ERLMCP_REGISTRY_TYPE", "value": "gproc"},
        {"name": "ERLMCP_SESSION_BACKEND", "value": "ets"},
        {"name": "ERLMCP_ENABLE_CACHE", "value": "true"}
      ]
    },
    "erlmcp_enterprise": {
      "vsn": "3.0.0",
      "applications": ["stdlib", "kernel", "jsx", "gproc"],
      "modules": [
        "erlmcp_enterprise_app",
        "erlmcp_enterprise_sup",
        "erlmcp_enterprise_core_sup",
        "erlmcp_identity_adapter",
        "erlmcp_monitoring_adapter",
        "erlmcp_logging_adapter",
        "erlmcp_bizintel_adapter",
        "erlmcp_servicebus_adapter",
        "erlmcp_data_adapter",
        "erlmcp_devops_adapter",
        "erlmcp_apigw_adapter",
        "erlmcp_cloud_adapter",
        "erlmcp_enterprise_bus",
        "erlmcp_enterprise_registry",
        "erlmcp_enterprise_metrics",
        "erlmcp_enterprise_health",
        "erlmcp_enterprise_audit",
        "erlmcp_enterprise_config",
        "erlmcp_enterprise_pools"
      ],
      "env": [
        {"name": "ERLMCP_ENTERPRISE_CONFIG_PATH", "value": "/etc/erlmcp/enterprise"},
        {"name": "ERLMCP_ENABLE_BUS", "value": "true"},
        {"name": "ERLMCP_ENABLE_METRICS", "value": "true"},
        {"name": "ERLMCP_ENABLE_HEALTH_CHECKS", "value": "true"},
        {"name": "ERLMCP_ENABLE_AUDIT_LOG", "value": "true"},
        {"name": "ERLMCP_CONFIG_WATCH", "value": "true"}
      ]
    },
    "erlmcp_transports": {
      "vsn": "3.0.0",
      "applications": ["stdlib", "kernel", "ranch", "cowboy", "gun"],
      "modules": [
        "erlmcp_transport_stdio",
        "erlmcp_transport_tcp",
        "erlmcp_transport_http",
        "erlmcp_transport_ws",
        "erlmcp_transport_sse"
      ],
      "env": [
        {"name": "ERLMCP_TRANSPORT_PORT", "value": "8080"},
        {"name": "ERLMCP_TRANSPORT_WORKERS", "value": "10"},
        {"name": "ERLMCP_ENABLE_TLS", "value": "true"},
        {"name": "ERLMCP_TLS_CERT", "value": "/etc/erlmcp/certs/server.crt"},
        {"name": "ERLMCP_TLS_KEY", "value": "/etc/erlmcp/certs/server.key"}
      ]
    },
    "erlmcp_observability": {
      "vsn": "3.0.0",
      "applications": ["stdlib", "kernel", "opentelemetry_api"],
      "modules": [
        "erlmcp_otel_app",
        "erlmcp_otel_sup",
        "erlmcp_tracer",
        "erlmcp_metrics",
        "erlmcp_dashboard"
      ],
      "env": [
        {"name": "ERLMCP_OTEL_ENABLED", "value": "true"},
        {"name": "ERLMCP_OTEL_EXPORTER", "value": "otlp"},
        {"name": "ERLMCP_OTEL_ENDPOINT", "value": "http://jaeger-collector:14268/api/traces"},
        {"name": "ERLMCP_METRICS_ENDPOINT", "value": "http://prometheus:9090/metrics"}
      ]
    }
  },
  "security": {
    "ssl": {
      "enabled": true,
      "cert_path": "/etc/erlmcp/certs/server.crt",
      "key_path": "/etc/erlmcp/certs/server.key",
      "ca_path": "/etc/erlmcp/certs/ca.crt",
      "versions": ["tlsv1.2", "tlsv1.3"],
      "cipher_suites": [
        "ECDHE-ECDSA-AES256-GCM-SHA384",
        "ECDHE-RSA-AES256-GCM-SHA384",
        "ECDHE-ECDSA-AES128-GCM-SHA256",
        "ECDHE-RSA-AES128-GCM-SHA256"
      ],
      "verify_client": true,
      "fail_if_no_peer_cert": false
    },
    "authentication": {
      "enabled": true,
      "providers": ["okta"],
      "jwt": {
        "enabled": true,
        "algorithm": "RS256",
        "issuer": "erlmcp-enterprise",
        "audience": "erlmcp-api",
        "expires_in": 3600,
        "refresh_expires_in": 86400,
        "jwks_uri": "https://okta.example.com/oauth2/default/v1/keys"
      },
      "api_key": {
        "enabled": true,
        "header_name": "X-API-Key",
        "validation_endpoint": "/validate/api-key"
      }
    },
    "authorization": {
      "enabled": true,
      "rbac": {
        "enabled": true,
        "cache_enabled": true,
        "cache_ttl": 300
      },
      "abac": {
        "enabled": false,
        "policies": []
      }
    },
    "firewall": {
      "enabled": true,
      "rules": [
        {
          "direction": "in",
          "protocol": "tcp",
          "ports": [8080, 8443],
          "source_networks": ["10.0.0.0/8"],
          "action": "allow"
        },
        {
          "direction": "in",
          "protocol": "tcp",
          "ports": [22],
          "source_networks": ["192.168.1.0/24"],
          "action": "allow"
        },
        {
          "direction": "in",
          "protocol": "all",
          "action": "deny"
        }
      ]
    }
  },
  "scaling": {
    "horizontal": {
      "enabled": true,
      "min_nodes": 3,
      "max_nodes": 10,
      "auto_scaling": true,
      "scale_up_threshold": 80,
      "scale_down_threshold": 30,
      "cooldown_period": 300
    },
    "vertical": {
      "enabled": false,
      "memory_threshold": 85,
      "cpu_threshold": 80,
      "resize_interval": 600
    },
    "load_balancing": {
      "enabled": true,
      "algorithm": "round_robin",
      "strategy": "least_connections",
      "health_check": {
        "enabled": true,
        "path": "/health",
        "interval": 10,
        "timeout": 5,
        "unhealthy_threshold": 3,
        "healthy_threshold": 2
      }
    }
  }
}